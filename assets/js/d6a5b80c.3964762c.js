"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[732],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var i=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=i.createContext({}),s=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=s(e.components);return i.createElement(c.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=s(n),u=o,g=p["".concat(c,".").concat(u)]||p[u]||h[u]||a;return n?i.createElement(g,r(r({ref:t},d),{},{components:n})):i.createElement(g,r({ref:t},d))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,r=new Array(a);r[0]=p;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,r[1]=l;for(var s=2;s<a;s++)r[s]=n[s];return i.createElement.apply(null,r)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},7901:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var i=n(3117),o=(n(7294),n(3905));const a={sidebar_position:2,title:"Election Creation Guide"},r=void 0,l={unversionedId:"general/guides/election-creation/election-creation",id:"general/guides/election-creation/election-creation",title:"Election Creation Guide",description:"In the Admin interface, given enough permissions you can create new",source:"@site/docs/general/guides/election-creation/election-creation.md",sourceDirName:"general/guides/election-creation",slug:"/general/guides/election-creation/",permalink:"/documentation/docs/general/guides/election-creation/",draft:!1,editUrl:"https://github.com/sequentech/documentation/edit/master/docs/general/guides/election-creation/election-creation.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Election Creation Guide"},sidebar:"generalSidebar",previous:{title:"Deployment Guide",permalink:"/documentation/docs/general/guides/deployment/"},next:{title:"Parent and Children Elections Guide",permalink:"/documentation/docs/general/guides/parent-and-children-elections/"}},c={},s=[{value:"Edit JSON",id:"edit-json",level:3},{value:"Live preview",id:"live-preview",level:3},{value:"Creating elections",id:"creating-elections",level:2},{value:"Modifying elections",id:"modifying-elections",level:2}],d={toc:s};function h(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,i.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"In the Admin interface, given enough permissions you can create new\nelections using the ",(0,o.kt)("inlineCode",{parentName:"p"},"New Election")," buttons highlighted below:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Highlighted Create New Election Buttons in Admin interface",src:n(4342).Z,width:"1714",height:"765"})),(0,o.kt)("p",null,"Once you click there, you will something like the following, where you can\ngraphically configure the main settings of an election like the election title,\ndescription, etc:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"New Election interface",src:n(946).Z,width:"1465",height:"799"})),(0,o.kt)("p",null,"Using the left sidebar, you can access other configuration sections like\n",(0,o.kt)("inlineCode",{parentName:"p"},"Questions")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"Authentication"),". However, it is currently not possible to\ngraphically configure some more advanced election settings. To be able to\nconfigure these advanced, settings, click in the last sidebar item\n",(0,o.kt)("inlineCode",{parentName:"p"},"Create Election"),":"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Create Election section",src:n(1561).Z,width:"2644",height:"1250"})),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"Create Election")," sidebar section is the last step of election configuration,\nwhere you can review the configuration before creating the election. At this\npoint, the election is configured - with some sample configuration if you\ndidn't change anything."),(0,o.kt)("h3",{id:"edit-json"},"Edit JSON"),(0,o.kt)("p",null,"If in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Create Election")," sidebar section you click in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Actions")," button\nat the right top, and then click on ",(0,o.kt)("inlineCode",{parentName:"p"},"Edit JSON")," from the dropdown menu, you\nwill access the ",(0,o.kt)("inlineCode",{parentName:"p"},"Edit Election Json")," dialog, in which you can directly\nedit in JSON format the election configuration:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Edit JSON Dialog",src:n(5521).Z,width:"1633",height:"799"})),(0,o.kt)("p",null,"To know the details of the Edit JSON Format, please review the\n",(0,o.kt)("a",{parentName:"p",href:"../../reference/election-creation-json"},"Election Creation JSON"),"\ndocumentation in the ",(0,o.kt)("a",{parentName:"p",href:"../../reference/"},"Reference")," section."),(0,o.kt)("h3",{id:"live-preview"},"Live preview"),(0,o.kt)("p",null,"If in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Create Election")," sidebar section you click in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Actions")," button\nat the right top, and then click on ",(0,o.kt)("inlineCode",{parentName:"p"},"Live Preview")," from the dropdown menu, you\nwill access a live preview of the voting booth."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Live preview menu",src:n(3530).Z,width:"2646",height:"1502"})),(0,o.kt)("p",null,"The live preview removes the need to create an election to see how the voting\nbooth looks like, reducing the feedback loop. "),(0,o.kt)("p",null,"To know the details of the Live Preview, please review the\n",(0,o.kt)("a",{parentName:"p",href:"../../reference/live-preview"},"Live Preview"),"\ndocumentation in the ",(0,o.kt)("a",{parentName:"p",href:"../../reference/"},"Reference")," section."),(0,o.kt)("h2",{id:"creating-elections"},"Creating elections"),(0,o.kt)("p",null,"In the ",(0,o.kt)("inlineCode",{parentName:"p"},"Create election")," sidebar section, you can review (and edit the json) of\nthe election(s) you are about to create in the system. At this point, the\nelections are usually not yet created in the backend and exists only as a JSON\nconfiguration in your web browser. There's an exception to that, that we will\ndiscuss later in this section."),(0,o.kt)("p",null,"Election creation compromises multiple steps. Also, multiple elections can be\ncreated at once in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Create election")," sidebar section. "),(0,o.kt)("p",null,"For each election, the web browser will request in order to execute the\nfollowing steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Create the AuthEvent"),": An Authevent represents an event which has some\nspecific voter authentication configuration and census of voters."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Add the voter census"),": The voter census data is added to the just\nregistered AuthEvent."),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Register the Election"),": The election is registed in ",(0,o.kt)("inlineCode",{parentName:"li"},"ballot-box"),", the\nballot box API.")),(0,o.kt)("p",null,"When an election is registered in ",(0,o.kt)("inlineCode",{parentName:"p"},"ballot-box"),", the election public keys\nand private are not yet created and no communication with the election\nauthorities has happened yet. At this stage, the election configuration can be\nmodified later on."),(0,o.kt)("p",null,"If you look at the ",(0,o.kt)("inlineCode",{parentName:"p"},"Create election")," sidebar section, there's a checkbox option\nbelow to choose if just registering the election or also creating it:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Create Election section checkbox",src:n(1319).Z,width:"1633",height:"799"})),(0,o.kt)("p",null,"This checkbox is checked by default but can be disabled just by clicking on it.\nIf disabled, the elections will just be registered but not created. This allows\nfor changing the elections later on as will be discussed in the next section."),(0,o.kt)("p",null,"If the checkbox is checked, then the elections' public and private keys will be\ncreated. This will happen after the previous three steps of AuthEvent creation,\ncensus import and election registration has happened for all the elections. The\ncreation of the public and private keys is the slowest part of the process and\nit takes around 30 seconds for each question with two election authorities."),(0,o.kt)("p",null,"Election's public and private keys creation can be requested later when an\nelection is in ",(0,o.kt)("inlineCode",{parentName:"p"},"registered")," state by clicking in ",(0,o.kt)("inlineCode",{parentName:"p"},"Create")," button from the\nelection dashboard:"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Create button in Election dashboard",src:n(5664).Z,width:"1633",height:"799"})),(0,o.kt)("h2",{id:"modifying-elections"},"Modifying elections"),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Elections can only be modified in ",(0,o.kt)("inlineCode",{parentName:"p"},"ballot-box")," if virtual elections are\nallowed in the deployment configuration, which can be enabled with the\n",(0,o.kt)("inlineCode",{parentName:"p"},"config.ballot-box.virtualElectionsAllowed")," setting in the ",(0,o.kt)("inlineCode",{parentName:"p"},"config.yml"),"\ndeployment configuration file. This setting is set to ",(0,o.kt)("inlineCode",{parentName:"p"},"false")," by default\nbecause for security reasons virtual elections should not be enabled in\nmulti-tenant deployments.")),(0,o.kt)("p",null,"When creating and configuring an election and more so if we are perhaps talking\nabout advanced election configuration options set in JSON for a set of multiple\nelections, it's useful to register it but be able to edit it later."),(0,o.kt)("p",null,"One straightforward way to do this is having the elections' JSON configuration\nin a file, copy and paste it into the ",(0,o.kt)("inlineCode",{parentName:"p"},"Edit Election JSON")," dialog inside the\n",(0,o.kt)("inlineCode",{parentName:"p"},"Create election")," sidebar section, and click the ",(0,o.kt)("inlineCode",{parentName:"p"},"Create the elections")," button\nwith the checkbox ",(0,o.kt)("inlineCode",{parentName:"p"},"Not only register the election, but also create it at the election authorities. This means you won't be able to modify the election.")," unchecked. You will have to\nensure that each election has a specific id assigned in the elections' JSON\nconfiguration."),(0,o.kt)("p",null,"Once the elections are registered, you can enter each election dashboard and\nfrom there access the Demo voting booth and see if it works as expected, and\nyou can even start or stop the elections and try to vote to see if the\nauthentication worked. You won't be able to vote and the voting booth will fail\nto encrypt the ballot because at this point the elections' private and public\nkeys are not created yet."),(0,o.kt)("p",null,"If there's any detail that you need to change, you can edit the elections JSON\nconfiguration file, and then proceed again to follow the steps before for\ncreating the election: copy and paste the configuration into the\n",(0,o.kt)("inlineCode",{parentName:"p"},"Edit Election JSON")," dialog inside the ",(0,o.kt)("inlineCode",{parentName:"p"},"Create election")," sidebar section and\nclick again to create the elections. This will update the elections'\nconfiguration as the system will have detected when an election with the\nspecified id already exists and can be edited as it's registered but not created."),(0,o.kt)("p",null,"Once the final elections configuration is in place, you can try to follow the\nsame election creation/update procedure, but ensuring the checkbox to create\nthe elections is checked."),(0,o.kt)("p",null,"In that case, the elections will first be updated (first the AuthEvent, then the\ncensus, and then the election), and then the public and private keys will be\ncreated."))}h.isMDXComponent=!0},4342:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/admin_elections_list__create_new_highlighted-1669d7fc9d97d640fb5aa73558cdae0a.png"},946:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/create_new_election-d4a6c75b2b0cf43b788cd92072569721.png"},5521:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/create_new_election_edit_json-00e6dff864e78e5d4266a158e812c662.png"},1561:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/create_new_election_last_section-cb3ead9cc359987623f765b12c2c3201.png"},1319:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/create_new_election_last_section_checkbox-85740d26fb51af264044c0455f9b6d81.png"},3530:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/create_new_election_live_preview-79cefbc35a8894fdd3cb6cdb131233bc.png"},5664:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/election_dashboard_registered_create_button_highlighted-94c9df356d5d66bdf9771a69be48f1e5.png"}}]);