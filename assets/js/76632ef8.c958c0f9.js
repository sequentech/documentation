"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[74],{3905:(e,t,o)=>{o.d(t,{Zo:()=>d,kt:()=>h});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l=n.createContext({}),u=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},d=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=u(o),h=r,m=p["".concat(l,".").concat(h)]||p[h]||c[h]||i;return o?n.createElement(m,a(a({ref:t},d),{},{components:o})):n.createElement(m,a({ref:t},d))}));function h(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=o.length,a=new Array(i);a[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,a[1]=s;for(var u=2;u<i;u++)a[u]=o[u];return n.createElement.apply(null,a)}return n.createElement.apply(null,o)}p.displayName="MDXCreateElement"},5998:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var n=o(3117),r=(o(7294),o(3905));const i={title:"Supported Browsers and Cookies",sidebar_label:"Browsers and Cookies"},a=void 0,s={unversionedId:"general/concepts/browsers-and-cookies/browsers-and-cookies",id:"general/concepts/browsers-and-cookies/browsers-and-cookies",title:"Supported Browsers and Cookies",description:"1. Supported browsers",source:"@site/docs/general/concepts/browsers-and-cookies/browsers-and-cookies.md",sourceDirName:"general/concepts/browsers-and-cookies",slug:"/general/concepts/browsers-and-cookies/",permalink:"/documentation/docs/general/concepts/browsers-and-cookies/",draft:!1,editUrl:"https://github.com/sequentech/documentation/edit/master/docs/general/concepts/browsers-and-cookies/browsers-and-cookies.md",tags:[],version:"current",frontMatter:{title:"Supported Browsers and Cookies",sidebar_label:"Browsers and Cookies"},sidebar:"generalSidebar",previous:{title:"Concepts",permalink:"/documentation/docs/general/concepts/"},next:{title:"Reference",permalink:"/documentation/docs/general/reference/"}},l={},u=[{value:"1. Supported browsers",id:"1-supported-browsers",level:2},{value:"Mobile browsers",id:"mobile-browsers",level:3},{value:"Javascript and old browsers",id:"javascript-and-old-browsers",level:3},{value:"Insecure browsers",id:"insecure-browsers",level:3},{value:"2. Required and allowed cookies",id:"2-required-and-allowed-cookies",level:2},{value:"Used in all modules",id:"used-in-all-modules",level:3},{value:"Admin",id:"admin",level:3},{value:"Booth",id:"booth",level:3},{value:"Election",id:"election",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Voting Booth Logout warning modal",id:"voting-booth-logout-warning-modal",level:3},{value:"Voting Booth progress bar logout",id:"voting-booth-progress-bar-logout",level:3},{value:"Admin console token renewal",id:"admin-console-token-renewal",level:3}],d={toc:u};function c(e){let{components:t,...i}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"1-supported-browsers"},"1. Supported browsers"),(0,r.kt)("p",null,"The web interface should work correctly on any modern browser. It's\nalways recommended to use the most updated version of your favourite browser to\nhave more security, but the interface can work on older versions if required."),(0,r.kt)("p",null,"The interface has been tested with the following browsers version and newer:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Mozilla Firefox 36"),(0,r.kt)("li",{parentName:"ul"},"Google Chrome 50"),(0,r.kt)("li",{parentName:"ul"},"Microsoft Edge 15 (All versions)"),(0,r.kt)("li",{parentName:"ul"},"Safari 7.1"),(0,r.kt)("li",{parentName:"ul"},"Safari on iPhone 5 (iOS v7)"),(0,r.kt)("li",{parentName:"ul"},"Chrome on Android (v6)")),(0,r.kt)("p",null,"We use ",(0,r.kt)("a",{parentName:"p",href:"https://browser-update.org"},"https://browser-update.org")," to check the web browser used by the user\nand notify the user if it's unsupported. If the browser is too old the user\nget the following notification:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"browser-update notification with Chrome 50",src:o(9574).Z,title:"browser-update notification",width:"1130",height:"736"})),(0,r.kt)("p",null,"You can disable this option in the ",(0,r.kt)("inlineCode",{parentName:"p"},"config.yml")," deployment configuration file,\njust disabling the ",(0,r.kt)("inlineCode",{parentName:"p"},"config.sequent_ui.browser_update_config")," option. If that\noption is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", we don't check the browser version."),(0,r.kt)("p",null,"The minimum browser version is also configurable in a deployment. The default\nvalue can be modified in the ",(0,r.kt)("inlineCode",{parentName:"p"},"sequent-ui/templates/SequentConfig.js")," in\n",(0,r.kt)("inlineCode",{parentName:"p"},"deployment-tool"),", updating the ",(0,r.kt)("inlineCode",{parentName:"p"},"browserUpdate")," field, but that requires a bit\nmore of knowledge as you need to edit the ansible template and re-deploying."),(0,r.kt)("h3",{id:"mobile-browsers"},"Mobile browsers"),(0,r.kt)("p",null,"The voting interface is responsive, that means that it adapts to the browser\nsize and this makes the application usable on mobile phones:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Voting on smart phones",src:o(632).Z,title:"Voting on smart phones",width:"994",height:"952"})),(0,r.kt)("h3",{id:"javascript-and-old-browsers"},"Javascript and old browsers"),(0,r.kt)("p",null,"The web interface requires javascript to work, so make sure that you don't have\njavascript disabled on your browser."),(0,r.kt)("p",null,"The minimum required version of javascript is the ES6 (ECMAScript 2015). This\nversion is supported on most browsers, but it's not supported on Microsoft\nInternet Explorer 11, so this browser is not supported."),(0,r.kt)("p",null,"In some old browsers, it's possible that the interface works but the encryption\nfails with an error like this:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Ballot encoding error",src:o(3892).Z,title:"Ballot encoding error",width:"938",height:"716"})),(0,r.kt)("p",null,"In any case, this kind of errors only occurs in the unsupported browsers, and\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"browser-update")," library will show a warning about the usage of an old\nbrowser in those cases."),(0,r.kt)("h3",{id:"insecure-browsers"},"Insecure browsers"),(0,r.kt)("p",null,"By default, we set ",(0,r.kt)("inlineCode",{parentName:"p"},"insecure: true")," setting of the ",(0,r.kt)("inlineCode",{parentName:"p"},"browser-update"),' library.\nThis means that all browser that are severely insecure get notified. "Severely\ninsecure" means that the browser has security issues that allow remote code\nexecution and similar stuff, and that they are being actively exploited on\nthe Internet.'),(0,r.kt)("p",null,"At the moment of writing this document, it means that anyone using a web browser\nolder than the following ones will get the notification for security reasons,\n",(0,r.kt)("strong",{parentName:"p"},"even if the browser is supported by our software"),":"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Edge/IE < 16"),(0,r.kt)("li",{parentName:"ul"},"Firefox < 76"),(0,r.kt)("li",{parentName:"ul"},"Opera < 62"),(0,r.kt)("li",{parentName:"ul"},"Safari < 11.1.1"),(0,r.kt)("li",{parentName:"ul"},"Chrome < 88.0.4324.150")),(0,r.kt)("p",null,"If you want to disable this feature, which we don't recommend, you should change\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"config.sequent_ui.browser_update_config")," setting in the ",(0,r.kt)("inlineCode",{parentName:"p"},"config.yml"),"\ndeployment configuration file, setting ",(0,r.kt)("inlineCode",{parentName:"p"},"insecure: false"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="config.yml fragment" {7}',title:'"config.yml','fragment"':!0,"{7}":!0},'    # Shows a dialog if the browser is too old to notify the user. Set this to\n    # false to disable. See how to customize in\n    #  http://browser-update.org/customize.html\n    browser_update_config: >\n      {\n        required: {e:15,f:36,o:65,s:7,c:50},\n        insecure:false,\n        api: "2021.04"\n      }\n')),(0,r.kt)("h2",{id:"2-required-and-allowed-cookies"},"2. Required and allowed cookies"),(0,r.kt)("p",null,"Sequent uses the bare minimum cookies needed for the interface usability. These\ncookies are the needed to login and for security reasons."),(0,r.kt)("p",null,"There's no tracking code or external cookies, all the cookies used by the\nSequent interface are used just as an local storage for the interface state, and\nin any case these cookies are sent to any external server, they are just used\nto be able to query the API with the authentication and the corresponding\nparameters."),(0,r.kt)("p",null,"You can check the cookies present and the use in the following lists by GUI\nmodule."),(0,r.kt)("h3",{id:"used-in-all-modules"},"Used in all modules"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"lang"),": Used to store the interface language. It'll be set even without\nlogin to keep track of the language selected by the user for the next use.\nagain. These cookies are present until the user logouts.")),(0,r.kt)("h3",{id:"admin"},"Admin"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"authevent"),": A set of cookies used to store the admin interface state.\nThis is used to keep the user loged in if the browser is closed and opened\nagain. These cookies are present until the user logouts.")),(0,r.kt)("h3",{id:"booth"},"Booth"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"authevent"),": A set of cookies used to store the booth interface state.\nIn the booth we just store:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"The current election ID"),(0,r.kt)("li",{parentName:"ul"},"The user email and authentication token"),(0,r.kt)("li",{parentName:"ul"},"If the user is admin\nThese cookies are removed once the user emits the vote.")))),(0,r.kt)("h3",{id:"election"},"Election"),(0,r.kt)("p",null,"No special cookies are used here."),(0,r.kt)("h3",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"The login session cookies expiration time can be configured using ",(0,r.kt)("inlineCode",{parentName:"p"},"config.yml"),".\nThe most important cookies are the ones that hold the authentication token. You\ncan configure different expiration times for the ",(0,r.kt)("inlineCode",{parentName:"p"},"voting-booth")," and the\n",(0,r.kt)("inlineCode",{parentName:"p"},"admin-console"),"."),(0,r.kt)("p",null,"To configure the cookie expiration time for the voting booth, as well as the\nauthentication token expiration time, find the line with the\n",(0,r.kt)("inlineCode",{parentName:"p"},"config.iam.auth_token_expiration_seconds")," configuration in the ",(0,r.kt)("inlineCode",{parentName:"p"},"config.yml"),"\ndeployment configuration file and change it. The expiration time will be set in\nseconds. For example an hour would be ",(0,r.kt)("inlineCode",{parentName:"p"},"3600")," seconds. The default\nvalue is ten minutes or ",(0,r.kt)("inlineCode",{parentName:"p"},"600")," seconds."),(0,r.kt)("p",null,"To configure the cookie/auth token expiration time for the admin console, find\nthe line with the ",(0,r.kt)("inlineCode",{parentName:"p"},"config.iam.admin_auth_token_expiration_seconds")," configuration\nin the ",(0,r.kt)("inlineCode",{parentName:"p"},"config.yml"),"  deployment configuration file and change it. The default\nvalue is one hour or ",(0,r.kt)("inlineCode",{parentName:"p"},"3600")," seconds."),(0,r.kt)("h3",{id:"voting-booth-logout-warning-modal"},"Voting Booth Logout warning modal"),(0,r.kt)("p",null,"In the voting booth, a modal will pop up one minute before the authentication token\nexpires. This modal warns the user that they only have one minute left before\nfinishing to cast their ballot."),(0,r.kt)("h3",{id:"voting-booth-progress-bar-logout"},"Voting Booth progress bar logout"),(0,r.kt)("p",null,"You can enable a feature to inform the user of exactly how much time they have left\nto vote before the cookies expire. If you configure the ",(0,r.kt)("inlineCode",{parentName:"p"},"booth_log_out__countdown_seconds"),"\nparameter in the election presentation as explained\n",(0,r.kt)("a",{parentName:"p",href:"../../reference/election-creation-json#election-presentation-booth_log_out__countdown_seconds"},"here"),",\na progress bar will show up in the background of the ",(0,r.kt)("inlineCode",{parentName:"p"},"Logout")," button, to indicate\nhow much time the user has left to cast their ballot. The progress bar goes from\n100% initially to 0% when the user runs out of time.  Also, if the user hovers the\nmouse over the button, a tooltip will further inform the user with the minutes/\nseconds they have left."),(0,r.kt)("p",null,"A screenshot is included below:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Logout button progress bar",src:o(5642).Z,title:"Logout button progress bar",width:"1016",height:"390"})),(0,r.kt)("p",null,"And the tooltip:\n",(0,r.kt)("img",{alt:"Logout button tooltip",src:o(3774).Z,title:"Logout button tooltip",width:"1066",height:"472"})),(0,r.kt)("h3",{id:"admin-console-token-renewal"},"Admin console token renewal"),(0,r.kt)("p",null,"Although the cookies/auth token for the admin console have a limited lifetime, they\nare automatically renewed when they reach their half-life. For this renewal process\nto happen, the browser tab must be active."))}c.isMDXComponent=!0},5642:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/logout-progress-883e69c2091489fb85421e3948c96256.png"},3774:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/logout-tooltip-7d7793cf8377ea7db4ba13ac996a6387.png"},632:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/mobile-b6af8683b5fbfe7b224b934a0bbda3a7.png"},3892:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/old-browser-error1-fe71a765387b3b2904e502a04487991b.png"},9574:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/old-browser-error2-174930340266f8ed887b73ac183c4973.png"}}]);