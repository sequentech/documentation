<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-general/guides/segmented-mixing/segmented-mixing">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<title data-rh="true">Segmented Mixing Guide | Documentation</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sequentech.github.io/documentation/docs/general/guides/segmented-mixing/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Segmented Mixing Guide | Documentation"><meta data-rh="true" name="description" content="Introduction and rationale"><meta data-rh="true" property="og:description" content="Introduction and rationale"><link data-rh="true" rel="icon" href="/documentation/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sequentech.github.io/documentation/docs/general/guides/segmented-mixing/"><link data-rh="true" rel="alternate" href="https://sequentech.github.io/documentation/docs/general/guides/segmented-mixing/" hreflang="en"><link data-rh="true" rel="alternate" href="https://sequentech.github.io/documentation/docs/general/guides/segmented-mixing/" hreflang="x-default"><link rel="stylesheet" href="/documentation/assets/css/styles.467535ac.css">
<link rel="preload" href="/documentation/assets/js/runtime~main.96f9b818.js" as="script">
<link rel="preload" href="/documentation/assets/js/main.b501c107.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/documentation/"><div class="navbar__logo"><img src="/documentation/img/sequent_docs_logo.png" alt="Sequent" class="themedImage_ToTc themedImage--light_HNdA"><img src="/documentation/img/sequent_docs_logo.png" alt="Sequent" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a href="https://sequentech.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/sequentech/roadmap/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forums<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.gg/WfvSTmcdY8" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/sequentech/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/documentation/docs/general/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/documentation/docs/general/guides/">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/general/guides/deployment/">Deployment Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/general/guides/election-creation/">Election Creation Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/general/guides/parent-and-children-elections/">Parent and Children Elections Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/general/guides/write-ins/">Write-ins Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/general/guides/messaging-voters/">Messaging Voters Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/general/guides/smart-link-auth/">SmartLink Auth Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/documentation/docs/general/guides/electoral-board-ceremonies/">Electoral Board Ceremonies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/documentation/docs/general/guides/segmented-mixing/">Segmented Mixing Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentation/docs/general/concepts/">Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentation/docs/general/reference/">Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/documentation/docs/general/contribute/">Contribute</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contribute&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/documentation/docs/general/guides/"><span itemprop="name">Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Segmented Mixing Guide</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Segmented Mixing Guide</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-and-rationale">Introduction and rationale<a class="hash-link" href="#introduction-and-rationale" title="Direct link to heading">​</a></h2><p>Segmented Mixing allows to speed up election creation and tallying for electoral
processes where you need segmented votes during tallying but the questions being
voted are exactly the same in all these segments.</p><p>The alternative to segmented mixing is using
<a href="/documentation/docs/general/guides/parent-and-children-elections/">Parent-Children Elections</a> with one child
election per segment. However, since you need one election per segment and
elections are tallied sequentially and have a minimum tally (or key-creation)
time of around 30 seconds per question in each election, this can slow-down
the election creation and the tally time.</p><p>In contrast, with segmented mixing you only need one election. If you have 30
segments (for example provinces), one election with 2 questions and need a tally
segmented by province, then a segmented election creation and election tally
will take only ~1 minute instead of the 30 minutes it would take for each of
those processes with parent-children elections. </p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p><a href="/documentation/docs/general/guides/parent-and-children-elections/">Parent-Children Elections</a> election is a
more generic and powerful mechanism. Use Segmented mixing only when appropriate.</p></div></div><p>Segmented mixing works by performing a single mix while allowing to
group/segment the resulting anonymized ballots because they have been tagged
before performing the tally.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-it-work">How does it work<a class="hash-link" href="#how-does-it-work" title="Direct link to heading">​</a></h2><p>Segmented mixing works works as follows:</p><ol><li>Each voter has an attribute in the census marking its segmentation. This
could be the region of the voter, its category, or any other segmentation
variable.</li><li>Before sending the encrypted ballots to the mixnet for shuffling and
decryption, the ballots are tagged with a different tag per segment.</li><li>Once the votes are shuffled and decrypted by the mixnet, the raw encoded
ballots are decoded and converted into
<code>(encoded-ballot) -&gt; (region, original-ballot)</code>.</li><li>The ballots are tallied grouped per segment and also showing a consolidated
result.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-details">Implementation details<a class="hash-link" href="#implementation-details" title="Direct link to heading">​</a></h2><p>The encrypted ballots can be tagged by taking advantage of the homomorphic
properties of ElGamal encryption, by which we can multiply an encrypted ballot
with another encrypted text of a specific number different for each group (the
tag) and obtain a verifiably encrypted text that contains the result of that
multiplication.</p><p>A encoded plaintext ballot is just an integer number. For example <code>2</code> may encode
a vote for <code>Yes</code> and <code>4</code> may be a vote for <code>No</code> in a contest. Take a look at
<a href="/documentation/docs/general/reference/ballot-encoding">Ballot Encoding</a> for more details of how
we encode a ballot into a positive integer within Sequent&#x27;s Voting Platform.</p><p>ElGamal cryptosystem receives any integer number and produces a ciphertext.
An intermediate step before applying ElGamal encryption is to encode this
integer plaintext into a multiplicative subgroup <code>Gq</code> using the set of quadratic
residues modulo <code>p</code>. This is required to achieve semantic security. There is a
post in Sequent&#x27;s blog detailing this process of
<a href="https://sequentech.io/plaintext-encoding-in-elgamal/" target="_blank" rel="noopener noreferrer">Elgamal Plaintext encoding</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="encoding-and-decoding-segmentation">Encoding and decoding segmentation<a class="hash-link" href="#encoding-and-decoding-segmentation" title="Direct link to heading">​</a></h3><p>Segmentation is performed in the dumping of the ballot box to the mixnet. We
take each encrypted ballot <code>E(ballot)</code> and multiply with an encrypted category
tag <code>E(tag)</code> resulting in an ciphertext <code>E(ballot * tag)</code>. This means that when
decrypted, the decryption of such ciphertext will be <code>ballot * tag</code>.</p><p>For example, if <code>ballot = 4</code> (a vote for <code>No</code>) and <code>tag = 11</code> (category
<code>Madrid</code>), then <code>ballot * tag = 4 * 11 = 44</code>. The mixnet will receive <code>E(ballot*tag) = E(44)</code> for this ballot instead of <code>E(ballot) = E(4)</code>, and the anonymized plaintext of the
ballot, which is part of the mixnet&#x27;s output, will be <code>44</code> instead of <code>4</code>.</p><p>Before the tally process can begin, we need to convert back this <code>44</code> into <code>4</code>,
because otherwise this would be counted as an invalid ballot. At the same time,
we need to detect which category does this ballot belong to, to count it only
for that category.</p><p>Categories are encoded as prime numbers, like <code>11</code> for <code>category = Madrid</code>.
Thus, decoding segmentation is as simple as detecting by which category prime is
the segmentation-encoded ballot dividable by. <code>44</code> is dividable by <code>11</code>, so we
detect that it is inside the <code>Madrid</code> category, and decoding the
segmentation-encoded ballot is as easy as performing <code>44 / 11 = 4</code>. We have
obtained back our ballot plaintext.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="categories-encoding">Categories encoding<a class="hash-link" href="#categories-encoding" title="Direct link to heading">​</a></h3><p>As mentioned before, each category tag is encoded as a prime number: the
<strong>category prime</strong>. But it has some other constraints - it cannot be any prime
number. For example, the number <code>3</code> is prime, but maybe it also could encode a
valid ballot, and this could create ambiguous situations in which someone who
voted by encoding the ballot <code>3</code> and whose category prime is <code>5</code>, would be
instead assigned the category <code>3</code> and the decoded ballot <code>5</code>.</p><p>For the reason above, a category prime needs to be always bigger than the
highest encodable ballot. Additionally, the category prime needs to comply with
being an integer number of the multiplicative subgroup <code>Gq</code> by ensuring the
prime is a quadratic residue modulo <code>p</code>, as mentioned earlier.</p><p>When creating an segmented election, an ordered list possible categories is set.
An algorithm calculates the <code>category primes</code>, in the given order, assigning a
prime number for each category tag by simply using the next available integer
that complies with the requirements mentioned:</p><ol><li>The number is higher than the maximum encodable ballot.</li><li>The number is not in use by any previously calculated category prime.</li><li>The number is prime.</li><li>The number is a quadratic residue modulo <code>p</code>.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="producing-a-segmented-tally">Producing a segmented tally<a class="hash-link" href="#producing-a-segmented-tally" title="Direct link to heading">​</a></h3><p>During tallying, the segmentation-encoded plaintext ballots are decoded as
described in the previous section. However, The whole purpose of the
segmentation is to produce segmented election results.</p><p>The <a href="https://github.com/sequentech/tally-pipes/" target="_blank" rel="noopener noreferrer">software module doing the tally</a>
detects when an election is segmented, and for each question it duplicates the
question one time per <a href="/documentation/docs/general/reference/election-creation-json#election-mixingCategorySegmentation">segment</a>, and also produce a question with the
aggregated results of all the posible segments.</p><p>This works in a similar manner to the <a href="/documentation/docs/general/guides/parent-and-children-elections/#university-elections-example">University elections example</a> of the Parent and
Children Elections Guide, but in an automatic manner. For example if we have
only one question <code>Question 1: What&#x27;s your favorite color?</code>, and we have two
segments <code>Madrid</code> and <code>Sevilla</code>, the election results will contain the following
three questions:</p><ol><li>Question 1: <code>What&#x27;s your favorite color?</code>, containing the results for all
segments.</li><li>Question 2: <code>What&#x27;s your favorite color? - Madrid</code>, containing the results
for <code>Madrid</code> segment of voters.</li><li>Question 3: <code>What&#x27;s your favorite color? - Sevilla</code>, containing the results
for <code>Sevilla</code> segment of voters.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="risks-and-limitations">Risks and limitations<a class="hash-link" href="#risks-and-limitations" title="Direct link to heading">​</a></h2><p>Segmentation mixing is an advanced feature and has some known risks and
limitations. Most importantly, a malicious voter could be able to craft a vote
in such a manner that this vote will be included in the wrong segmentation
category. However, it&#x27;s guaranteed by the way segmentation is implemented that
in this scenario the ballot would always be deemed invalid.</p><p>Please take the mentioned risks into account before using this feature.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-use-it">How to use it<a class="hash-link" href="#how-to-use-it" title="Direct link to heading">​</a></h2><p>You need to create an election with:</p><ul><li><a href="/documentation/docs/general/reference/election-creation-json#election-segmentedmixing"><code>election.segmentedMixing</code></a> set to <code>true</code></li><li><a href="/documentation/docs/general/reference/election-creation-json#election-mixingCategorySegmentation"><code>election.mixingCategorySegmentation</code></a>
properly configured (see the documentation).</li><li>Have an extra field in the census matching the
<code>election.mixingcategorySegmentation.categoryName</code>.</li></ul><p>You can find an example election in
<a target="_blank" href="/documentation/assets/files/segmented_election.json-db7f1138d512dc0934fd809888df3f77.yaml">segmented_election.json</a>. Here are the
highlights:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockTitle_Ktv7">segmented_election.json fragment</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;title&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Segmented election&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;segmentedMixing&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;mixingCategorySegmentation&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;categoryName&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;province&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;categories&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Sevilla&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">         </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Madrid&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">&quot;census&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;auth_method&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;email&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;extra_fields&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;must&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;province&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;text&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;required&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;private&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;min&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;max&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">255</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;required_on_authentication&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">... rest of the configution ....</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once created the election, it works exactly as a non-segmented election for
voters and administrators, except on the election results. Here is how the
electoral results look in the dashboard will look like the following:</p><p><img loading="lazy" alt="Election Results in Admin Dashboard" src="/documentation/assets/images/segmented-results-dashboard-9f3f119a8c470bf080e0c3c45ae970f6.png" width="2872" height="1586" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/sequentech/documentation/edit/master/docs/general/guides/segmented-mixing/segmented-mixing.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/documentation/docs/general/guides/electoral-board-ceremonies/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Electoral Board Ceremonies</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/documentation/docs/general/concepts/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Concepts</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction-and-rationale" class="table-of-contents__link toc-highlight">Introduction and rationale</a></li><li><a href="#how-does-it-work" class="table-of-contents__link toc-highlight">How does it work</a></li><li><a href="#implementation-details" class="table-of-contents__link toc-highlight">Implementation details</a><ul><li><a href="#encoding-and-decoding-segmentation" class="table-of-contents__link toc-highlight">Encoding and decoding segmentation</a></li><li><a href="#categories-encoding" class="table-of-contents__link toc-highlight">Categories encoding</a></li><li><a href="#producing-a-segmented-tally" class="table-of-contents__link toc-highlight">Producing a segmented tally</a></li></ul></li><li><a href="#risks-and-limitations" class="table-of-contents__link toc-highlight">Risks and limitations</a></li><li><a href="#how-to-use-it" class="table-of-contents__link toc-highlight">How to use it</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Sequent</div></div></div></footer></div>
<script src="/documentation/assets/js/runtime~main.96f9b818.js"></script>
<script src="/documentation/assets/js/main.b501c107.js"></script>
</body>
</html>