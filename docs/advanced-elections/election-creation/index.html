<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/admin-manual/blog/rss.xml" title="admin-manual Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/admin-manual/blog/atom.xml" title="admin-manual Blog Atom Feed"><title data-react-helmet="true">Election Creation | admin-manual</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Election Creation | admin-manual"><meta data-react-helmet="true" name="description" content="In the Admin interface, given enough permissions you can create new"><meta data-react-helmet="true" property="og:description" content="In the Admin interface, given enough permissions you can create new"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/admin-manual/docs/advanced-elections/election-creation"><link data-react-helmet="true" rel="shortcut icon" href="/admin-manual/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/admin-manual/docs/advanced-elections/election-creation"><link rel="stylesheet" href="/admin-manual/styles.21f0090d.css">
<link rel="preload" href="/admin-manual/styles.19eaad5a.js" as="script">
<link rel="preload" href="/admin-manual/runtime~main.8ad37782.js" as="script">
<link rel="preload" href="/admin-manual/main.b208c5ab.js" as="script">
<link rel="preload" href="/admin-manual/1.ddbdf967.js" as="script">
<link rel="preload" href="/admin-manual/2.959747c6.js" as="script">
<link rel="preload" href="/admin-manual/15.ee9df9ac.js" as="script">
<link rel="preload" href="/admin-manual/16.1e009402.js" as="script">
<link rel="preload" href="/admin-manual/935f2afb.5878af9d.js" as="script">
<link rel="preload" href="/admin-manual/17896441.aab8830d.js" as="script">
<link rel="preload" href="/admin-manual/9b1b5505.72648ce2.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/admin-manual/"><img src="/admin-manual/img/nvotes_logo.png" alt="nVotes" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/admin-manual/img/nvotes_logo.png" alt="nVotes" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Admin Manual</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/admin-manual/docs/deployment/guide">Docs</a><a href="https://nvotes.com/blog/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/agoravoting/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://nvotes.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Powered By nVotes</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/admin-manual/"><img src="/admin-manual/img/nvotes_logo.png" alt="nVotes" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/admin-manual/img/nvotes_logo.png" alt="nVotes" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Admin Manual</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/admin-manual/docs/deployment/guide">Docs</a></li><li class="menu__list-item"><a href="https://nvotes.com/blog/" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/agoravoting/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://nvotes.com/" target="_blank" rel="noopener noreferrer" class="menu__link">Powered By nVotes</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/admin-manual/docs/deployment/guide">Deployment Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/admin-manual/docs/deployment/troubleshooting">Deployment Troubleshooting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Translation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/admin-manual/docs/translation/guide">Translation Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Election Testing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/admin-manual/docs/testing/bulk">Bulk Election Testing</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Advanced Elections</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/admin-manual/docs/advanced-elections/introduction">Introduction</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/admin-manual/docs/advanced-elections/election-creation">Election Creation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contribute</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/admin-manual/docs/contribute/guide">Contribution Guide</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Election Creation</h1></header><div class="markdown"><p>In the Admin interface, given enough permissions you can create new
elections using the <code>New Election</code> buttons highlighted below:</p><p><img alt="Highlighted Create New Election Buttons in Admin interface" src="/admin-manual/assets/images/admin_elections_list__create_new_highlighted-1669d7fc9d97d640fb5aa73558cdae0a.png"></p><p>Once you click there, you will something like the following, where you can
graphically configure the main settings of an election like the election title,
description, etc:</p><p><img alt="New Election interface" src="/admin-manual/assets/images/create_new_election-d4a6c75b2b0cf43b788cd92072569721.png"></p><p>Using the left sidebar, you can access other configuration sections like
<code>Questions</code> or <code>Authentication</code>. However, it is currently not possible to
graphically configure some more advanced election settings. To be able to
configure these advanced, settings, click in the last sidebar item
<code>Create Election</code>:</p><p><img alt="Create Election section" src="/admin-manual/assets/images/create_new_election_last_section-357b84eef0c388fd7363e9f3aabc62bf.png"></p><p>The <code>Create Election</code> sidebar section is the last step of election configuration,
where you can review the configuration before creating the election. At this
point, the election is configured - with some sample configuration if you
didn&#x27;t change anything.</p><p>If in the <code>Create Election</code> sidebar section you click in the pencil icon at the
top, you will access the <code>Edit Election Json</code> dialog, in which you can directly
edit in JSON format the election configuration:</p><p><img alt="Edit JSON Dialog" src="/admin-manual/assets/images/create_new_election_edit_json-00e6dff864e78e5d4266a158e812c662.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-json-settings"></a>Election JSON settings<a class="hash-link" href="#election-json-settings" title="Direct link to heading">#</a></h2><p>In this section we will describe the different options that can be configured
in the Edit JSON Dialog for Election Creation.  You review an example of a
<a target="_blank" href="/admin-manual/assets/files/sample_config-2096c26697f7e17f345268d6a0ba0fcf.yml">sample election JSON configuration here</a>.</p><p>As can be seen in the last screenshot, the JSON Format starts with a list. This
is a list of <a href="#election-object">Elections</a>. This means you can directly create
multiple elections at once like this:</p><div class="mdxCodeBlock_1zKU"><div style="color:#bfc7d5;background-color:#292d3e" class="codeBlockTitle_2eSY">multiple_elections.json</div><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar codeBlockWithTitle_1UkA"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...Election </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> configuration..</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...Election </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token plain"> configuration..</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ...Election </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token plain"> configuration..</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Once you click on the <code>Finish edit</code> in the <code>Edit Election Json</code> dialog, if you
have added multiple elections this will be reflected in the interface.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="creating-elections"></a>Creating elections<a class="hash-link" href="#creating-elections" title="Direct link to heading">#</a></h2><p>In the <code>Create election</code> sidebar section, you can review (and edit the json) of
the election(s) you are about to create in the system. At this point, the
elections are usually not yet created in the backend and exists only as a JSON
configuration in your web browser. There&#x27;s an exception to that, that we will
discuss later in this section.</p><p>Election creation compromises multiple steps. As seen in
<a href="#election-creation-json-settings">Election Creation JSON settings</a>), multiple
elections can be created at once in the <code>Create election</code> sidebar section. </p><p>For each election, the web browser will request in order to execute the
following steps:</p><ol><li><strong>Create the AuthEvent</strong>: An Authevent represents an event which has some
specific voter authentication configuration and census of voters.</li><li><strong>Add the voter census</strong>: The voter census data is added to the just
registered AuthEvent.</li><li><strong>Register the Election</strong>: The election is registed in <code>agora-elections</code>, the
ballot box API.</li></ol><p>When an election is registered in <code>agora-elections</code>, the election public keys
and private are not yet created and no communication with the election
authorities has happened yet. At this stage, the election configuration can be
modified later on.</p><p>If you look at the <code>Create election</code> sidebar section, there&#x27;s a checkbox option
below to choose if just registering the election or also creating it:</p><p><img alt="Create Election section checkbox" src="/admin-manual/assets/images/create_new_election_last_section_checkbox-85740d26fb51af264044c0455f9b6d81.png"></p><p>This checkbox is checked by default but can be disabled just by clicking on it.
If disabled, the elections will just be registered but not created. This allows
for changing the elections later on as will be discussed in the next section.</p><p>If the checkbox is checked, then the elections&#x27; public and private keys will be
created. This will happen after the previous three steps of AuthEvent creation,
census import and election registration has happened for all the elections. The
creation of the public and private keys is the slowest part of the process and
it takes around 30 seconds for each question with two election authorities.</p><p>Election&#x27;s public and private keys creation can be requested later when an
election is in <code>registered</code> state by clicking in <code>Create</code> button from the
election dashboard:</p><p><img alt="Create button in Election dashboard" src="/admin-manual/assets/images/election_dashboard_registered_create_button_highlighted-94c9df356d5d66bdf9771a69be48f1e5.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="modifying-elections"></a>Modifying elections<a class="hash-link" href="#modifying-elections" title="Direct link to heading">#</a></h2><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Elections can only be modified in <code>agora-elections</code> if virtual elections are
allowed in the deployment configuration, which can be enabled with the
<code>config.agora_elections.virtualElectionsAllowed</code> setting in the <code>config.yml</code>
deployment configuration file. This setting is set to <code>false</code> by default
because for security reasons virtual elections should not be enabled in
multi-tenant deployments.</p></div></div><p>When creating and configuring an election and more so if we are perhaps talking
about advanced election configuration options set in JSON for a set of multiple
elections, it&#x27;s useful to register it but be able to edit it later.</p><p>One straightforward way to do this is having the elections&#x27; JSON configuration
in a file, copy and paste it into the <code>Edit Election JSON</code> dialog inside the
<code>Create election</code> sidebar section, and click the <code>Create the elections</code> button
with the checkbox <code>Not only register the election, but also create it at the election authorities. This means you won&#x27;t be able to modify the election.</code> unchecked. You will have to
ensure that each election has a specific id assigned in the elections&#x27; JSON
configuration.</p><p>Once the elections are registered, you can enter each election dashboard and
from there access the Demo voting booth and see if it works as expected, and
you can even start or stop the elections and try to vote to see if the
authentication worked. You won&#x27;t be able to vote and the voting booth will fail
to encrypt the ballot because at this point the elections&#x27; private and public
keys are not created yet.</p><p>If there&#x27;s any detail that you need to change, you can edit the elections JSON
configuration file, and then proceed again to follow the steps before for
creating the election: copy and paste the configuration into the
<code>Edit Election JSON</code> dialog inside the <code>Create election</code> sidebar section and
click again to create the elections. This will update the elections&#x27;
configuration as the system will have detected when an election with the
specified id already exists and can be edited as it&#x27;s registered but not created.</p><p>Once the final elections configuration is in place, you can try to follow the
same election creation/update procedure, but ensuring the checkbox to create
the elections is checked.</p><p>In that case, the elections will first be updated (first the AuthEvent, then the
census, and then the election), and then the public and private keys will be
created.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-object"></a>Election object<a class="hash-link" href="#election-object" title="Direct link to heading">#</a></h2><p>Within the Election JSON settings that can be set using the <code>Edit Election JSON</code> dialog, each election can have the following settings:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-id"></a>Election: <code>id</code><a class="hash-link" href="#election-id" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>id</code></li><li><strong>Type:</strong> <code>Positive Integer</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>345</code></li></ul><p>Election&#x27;s unique id. It will automatically be assigned one if none is set. If the election already exists and the user has permissions to edit it, the election configuration will be updated if the election is registered but not yet created (<a href="#modifying-elections">details here</a>).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-title"></a>Election: <code>title</code><a class="hash-link" href="#election-title" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>title</code></li><li><strong>Type:</strong> <code>Short String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;New election&quot;</code></li></ul><p>Election&#x27;s title. It will appear in the admin election list, and as the election title in the public election site and in the voting booth start screen.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-description"></a>Election: <code>description</code><a class="hash-link" href="#election-description" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>description</code></li><li><strong>Type:</strong> <code>Long String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;This is the description of the election. You can add simple html like &lt;strong&gt;bold&lt;/strong&gt; or &lt;a href=\&quot;https://nvotes.com\&quot;&gt;links to websites&lt;/a&gt;.\n\n&lt;br&gt;&lt;br&gt;You need to use two br element for new paragraphs.&quot;</code></li></ul><p>Election&#x27;s description. It will appear below the title in the public election site and in the voting booth start screen. As shown in the example it allows for some basic HTML.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-start_date"></a>Election: <code>start_date</code><a class="hash-link" href="#election-start_date" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>start_date</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;&quot;</code></li></ul><p>DEPRECATED. This field is required but should really be an empty string as it is currently unused.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-end_date"></a>Election: <code>end_date</code><a class="hash-link" href="#election-end_date" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>end_date</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;&quot;</code></li></ul><p>DEPRECATED. This field is required but should really be an empty string as it is currently unused.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-director"></a>Election: <code>director</code><a class="hash-link" href="#election-director" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>director</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;auth1&quot;</code></li></ul><p>The name of the election authority that will act as the director for this election. Its eopackage needs to be installed in the backend server (<a href="/admin-manual/docs/deployment/guide#connecting-web-servers-with-authorities">see details</a>).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-authorities"></a>Election: <code>authorities</code><a class="hash-link" href="#election-authorities" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>authorities</code></li><li><strong>Type:</strong> <code>List&lt;String&gt;</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>[&quot;auth2&quot;, &quot;auth3&quot;]</code></li></ul><p>List of names of all the election authorities that should be included in this election, excluding the director authority name. Its eopackages needs to be installed in the backend server (<a href="/admin-manual/docs/deployment/guide#connecting-web-servers-with-authorities">see details</a>).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation"></a>Election: <code>presentation</code><a class="hash-link" href="#election-presentation" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>presentation</code></li><li><strong>Type:</strong> <a href="#election-presentation-object">Election Presentation</a></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;theme&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;default&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;share_text&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;network&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Twitter&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;button_text&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;social_message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;I have just voted in election __URL__, you can too! #nvotes&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;network&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Facebook&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;button_text&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token property">&quot;social_message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__URL__&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;urls&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;theme_css&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Describes presentation options related to the whole election. See
<a href="#election-presentation-object">Election Presentation</a> for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-layout"></a>Election: <code>layout</code><a class="hash-link" href="#election-layout" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>layout</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;simple&quot;</code></li></ul><p>Specifies the election-wide layout. For now this settings remains unused and it
must always be set to <code>&quot;simple&quot;</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-num_successful_logins_allowed"></a>Election: <code>num_successful_logins_allowed</code><a class="hash-link" href="#election-num_successful_logins_allowed" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>num_successful_logins_allowed</code></li><li><strong>Type:</strong> <code>Positive Integer</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>0</code></li></ul><p>Specifies the number of votes that can be cast, because <em>successful logins</em> is
a generic and fancy way to call &#x27;votes cast&#x27; in a generic way within AuthApi.
If set to zero, no specific limitation in <code>authapi</code> will happen regarding the
authentication process. If set to a number higher than zero, for example 1 or 3,
that will be the limit in the number of votes that can be cast.</p><p>Once the limitation is hit, the voter won&#x27;t be able to authenticate again to
cast a vote.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>There might be other limitations on the number of votes that a voter can cast.
For example <code>agora-elections</code> has a deployment level configuration setting
that limits the number of votes that can be cast (this setting&#x27;s path is
<code>config.agora_elections.max_revotes</code> in the <code>config.yml</code> ansible configuration).
This <code>agora-elections</code> configuration setting will be applied independently of
<code>num_successful_logins_allowed</code>.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-resultsconfig"></a>Election: <code>resultsConfig</code><a class="hash-link" href="#election-resultsconfig" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>resultsConfig</code></li><li><strong>Type:</strong> List&lt;<a href="#results-config-pipes">Results Config Pipes</a>&gt;</li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;agora_results.pipes.results.do_tallies&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;ignore_invalid_votes&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;agora_results.pipes.sort.sort_non_iterative&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;question_indexes&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Specifies how election results will be calculated. It is set of pipes to be
applied, together with each pipe configuration, that will be used during the
calculation of election results. See <a href="#results-config-pipes">Results Config Pipes</a>
for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-has_ballot_boxes"></a>Election: <code>has_ballot_boxes</code><a class="hash-link" href="#election-has_ballot_boxes" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>has_ballot_boxes</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p>Specifies if this election will have paper ballot boxes. If set to <code>true</code>, the
election will show a new <code>Balot Boxes</code> tab in the sidebar once created. In that
tab a list of ballot boxes will be shown, and each ballot box will be able to
have a tally sheet attached. This can be used for hybrid elections with both
digital votes and paper ballots. </p><p>A single election can have multiple ballot boxes assigned to it. Each ballot
box can be assigned via the <a href="#election-ballot_boxes"><code>ballot_boxes</code></a> election
object property.</p><p>The way election results are calculated when there are ballot boxes is through
multiple steps:</p><ol><li>When a tally sheet is uploaded (to <code>authapi</code>), <code>authapi</code> sends a callback to
<code>agora-elections</code> (the API call is to
<code>/api/election/:id/update-ballot-boxes-config</code>) with the updated list of
tally sheets related to that election.</li><li>That API call to <code>/api/election/:id/update-ballot-boxes-config</code> of
<code>agora-elections</code> executes multiple steps:<ol><li>It sets the <code>ballotBoxesResultsConfig</code> in the appropiate election and
saves it in the database.</li><li>It uses the <a href="#election-resultsconfig">resultsConfig setting</a> as a
template replacing any ocurrence of the text
<code>__ballotBoxesResultsConfig__</code> with the content of
<code>ballotBoxesResultsConfig</code> which is the updated list of tally sheets. If
ballotBoxesResultsConfig is not set, then <code>__ballotBoxesResultsConfig__</code>
will be always replaced by <code>[]</code> (empty list).</li><li>It re-calculates the election results running <code>agora-results</code> with the
calculated <a href="#election-resultsconfig">resultsConfig setting</a> in the previous
step.</li></ol></li></ol><p>As a result, if you want the tally sheets to be reflected somehow in the
election results, you will need to use the appropiate
<a href="#results-config-pipes">Results Config Pipes</a>, for example <a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/ballot_boxes.py#L278" target="_blank" rel="noopener noreferrer">agora_results.pipes.ballot_boxes.count_tally_sheets</a>. See also <a href="#election-results-can-have-different-questions">Election results can have different questions</a> section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-ballot_boxes"></a>Election: <code>ballot_boxes</code><a class="hash-link" href="#election-ballot_boxes" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>ballot_boxes</code></li><li><strong>Type:</strong> <code>List&lt;Short String&gt;</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>[]</code></li><li><strong>Example:</strong> <code>[&quot;Postal Ballots&quot;, &quot;Onsite Paper Ballots&quot;]</code></li></ul><p>This configuration option is only used if
<a href="#election-has_ballot_boxes">has_ballot_boxes</a> is set to true. It contains a
list of ballot boxes to be created.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-census"></a>Election: <code>census</code><a class="hash-link" href="#election-census" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>census</code></li><li><strong>Type:</strong> List&lt;<a href="#census-object">Census</a>&gt;</li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;voters&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;auth_method&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;email&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;census&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;close&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;extra_fields&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;admin_fields&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;config&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;allow_user_resend&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;msg&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Vote in __URL__ with code __CODE__&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;subject&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Vote now with nVotes&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;authentication-action&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;mode&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;vote&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;mode-config&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">&quot;url&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;registration-action&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;mode&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;vote&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;mode-config&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token null keyword" style="font-style:italic">null</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Object that details the different options related to the census configuration.
See <a href="#census-object">Census</a> for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-hide_default_login_lookup_field"></a>Election: <code>hide_default_login_lookup_field</code><a class="hash-link" href="#election-hide_default_login_lookup_field" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>hide_default_login_lookup_field</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p>Specifies if the census main lookup field is hidden. Only use this option if
you have setup some other(s) <a href="#census-extra_fields">census extra_field</a> with the
<a href="#extra-field-required_on_authentication">required_on_authentication attribute</a>
set to <code>true</code>, as it would be used to look up the voter in the database.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-object"></a>Election Presentation Object<a class="hash-link" href="#election-presentation-object" title="Direct link to heading">#</a></h2><p>This JSON object type describes presentation options related to the whole
election. It is used <a href="#election-presentation">here</a> and can have the following
properties:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-theme"></a>Election Presentation: <code>theme</code><a class="hash-link" href="#election-presentation-theme" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>theme</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;default&quot;</code></li></ul><p>Theme that will be used in the public election website and in the voting booth
of this election. Existing themes exist in the <a href="https://github.com/agoravoting/agora-gui-common/tree/master/themes" target="_blank" rel="noopener noreferrer">themes directory</a> of the agora-gui-common repository. You can write
your own if need be, by following the same directory and file structure as any
of those. The <code>default</code> theme uses simple colors and not very specific, with
the idea of being able to be used in most cases. It is also the most widely used
and thus battle-tested.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-share_text"></a>Election Presentation: <code>share_text</code><a class="hash-link" href="#election-presentation-share_text" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>share_text</code></li><li><strong>Type:</strong> List&lt;<a href="#share-text-object">Share Text</a>&gt;</li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong></li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;network&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Twitter&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;button_text&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;social_message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;I have just voted in election __URL__, you can too! #nvotes&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;network&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Facebook&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;button_text&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;social_message&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;__URL__&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Describes a series of social network or other kind of links to be shown at the
top of the election public website and at the success screen of the voting
booth. See <a href="#share-text">Share Text</a> for more details. It can be an empty list.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-urls"></a>Election Presentation: <code>urls</code><a class="hash-link" href="#election-presentation-urls" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>urls</code></li><li><strong>Type:</strong> <code>List&lt;Election URL&gt;</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>[]</code></li></ul><p>DEPRECATED. Just leave it as an empty list.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-theme_css"></a>Election Presentation: <code>theme_css</code><a class="hash-link" href="#election-presentation-theme_css" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>theme_css</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;&quot;</code></li></ul><p>DEPRECATED. Just leave it as an empty string.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-extra_options"></a>Election Presentation: <code>extra_options</code><a class="hash-link" href="#election-presentation-extra_options" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>extra_options</code></li><li><strong>Type:</strong> <a href="#election-presentation-extra-options-object">Election Presentation Extra Options</a></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;start_screen__skip&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>A set of additional of election configuration options, currently used to modify
the voting booth presentation behaviour. This property is not required, but can
be useful. See more
<a href="#election-presentation-extra-options-object">details about Election Presentation Extra Options here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="share-text-object"></a>Share Text Object<a class="hash-link" href="#share-text-object" title="Direct link to heading">#</a></h2><p>Object describing a series of social network links or any other type of link
to be shown at the top of the election public website and at the success screen
of the voting  booth. It  is used <a href="#election-presentation-share_text">here</a> and
it can have the following properties:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="share-text-network"></a>Share Text: <code>network</code><a class="hash-link" href="#share-text-network" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>network</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;Twitter&quot;</code></li></ul><p>Specifies the social network this link is for. Currently only <code>&quot;Twitter&quot;</code> and
<code>&quot;Facebook&quot;</code> special cases are detected. If you use any of those, then a given
social network icon will be shown and the url will be set to share the
specified <a href="#share-text-social_message">social message</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="share-text-button_text"></a>Share Text: <code>button_text</code><a class="hash-link" href="#share-text-button_text" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>button_text</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;&quot;</code></li></ul><p>Specifies the text to show with this share link. It&#x27;s usually set to an empty
string as the network icon is usually set.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="share-text-social_message"></a>Share Text: <code>social_message</code><a class="hash-link" href="#share-text-social_message" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>social_message</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;I have just voted in election __URL__, you can too! #nvotes&quot;</code></li></ul><p>When users click on the share link, it will try automatically default to share
in Twitter/Facebook this message. It is a template string, where <code>__URL__</code> will
be automatically replaced to a link to this election&#x27;s public website.</p><p>Currently unused.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-extra-options-object"></a>Election Presentation Extra Options Object<a class="hash-link" href="#election-presentation-extra-options-object" title="Direct link to heading">#</a></h2><p>An object describing a set of additional of election configuration options,
currently used to modify the voting booth presentation behaviour. It is used
<a href="#election-presentation-extra_options">here</a> and it can have the following
properties:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-options-start_screen__skip"></a>Election Presentation Options: <code>start_screen__skip</code><a class="hash-link" href="#election-presentation-options-start_screen__skip" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>start_screen__skip</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>true</code></li></ul><p>If set, this optional property will modify the voting booth behaviour and the
start screen of the voting booth will not be shown.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-options-public_title"></a>Election Presentation Options: <code>public_title</code><a class="hash-link" href="#election-presentation-options-public_title" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>public_title</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;Approval of the accounts 2022&quot;</code></li></ul><p>If set, this optional property will modify the voting booth behaviour so that
instead of showing the title of election in the voting booth, it will show this
other title instead.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-options-success_screen__hide_ballot_tracker"></a>Election Presentation Options: <code>success_screen__hide_ballot_tracker</code><a class="hash-link" href="#election-presentation-options-success_screen__hide_ballot_tracker" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>success_screen__hide_ballot_tracker</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>true</code></li></ul><p>If set, this optional property will modify the voting booth behaviour and the
success screen will not show the ballot tracker hash. This option does not hide
the QR code nor the link to download the ballot ticket PDF.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-options-success_screen__hide_qr_code"></a>Election Presentation Options: <code>success_screen__hide_qr_code</code><a class="hash-link" href="#election-presentation-options-success_screen__hide_qr_code" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>success_screen__hide_qr_code</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>true</code></li></ul><p>If set, this optional property will modify the voting booth behaviour and the
success screen will not show the QR code that encodes a link to the ballot
tracker URL. This option does not hide the ballot tracker hash nor the link
to download the ballot ticket PDF.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-options-success_screen__hide_download_ballot_ticket"></a>Election Presentation Options: <code>success_screen__hide_download_ballot_ticket</code><a class="hash-link" href="#election-presentation-options-success_screen__hide_download_ballot_ticket" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>success_screen__hide_download_ballot_ticket</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>true</code></li></ul><p>If set, this optional property will modify the voting booth behaviour and the
success screen will not show the link to download the ballot ticket PDF. This
option does not hide the ballot tracker hash nor the QR code to the ballot
tracker.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-options-success_screen__redirect_to_login"></a>Election Presentation Options: <code>success_screen__redirect_to_login</code><a class="hash-link" href="#election-presentation-options-success_screen__redirect_to_login" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>success_screen__redirect_to_login</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>true</code></li></ul><p>If set, this optional property will modify the voting booth behaviour so that
the success screen will show a link to redirect to the voter login page. Use
together with <a href="#election-presentation-options-success_screen__redirect_to_login__text"><code>success_screen__redirect_to_login__text</code></a>
because the link will have that text, so you need to set it.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-options-success_screen__redirect_to_login__text"></a>Election Presentation Options: <code>success_screen__redirect_to_login__text</code><a class="hash-link" href="#election-presentation-options-success_screen__redirect_to_login__text" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>success_screen__redirect_to_login__text</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>Go to login</code></li></ul><p>If set, this optional property will modify the voting booth behaviour so that
the redirect to login link in the  success screen will have the text specified
in this string. Use
together with <a href="#election-presentation-options-success_screen__redirect_to_login">success_screen__redirect_to_login</a>
because the link will only appear if that option is set to <code>true</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-options-disable_voting_booth_audit_ballot"></a>Election Presentation Options: <code>disable_voting_booth_audit_ballot</code><a class="hash-link" href="#election-presentation-options-disable_voting_booth_audit_ballot" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>disable_voting_booth_audit_ballot</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>true</code></li></ul><p>If set, this optional property will modify the voting booth behaviour so that
the review ballot screen, shown before casting the vote, will not show the hash
of the ballot nor the link to audit the ballot.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-presentation-options-success_screen__redirect_to_login__auto_seconds"></a>Election Presentation Options: <code>success_screen__redirect_to_login__auto_seconds</code><a class="hash-link" href="#election-presentation-options-success_screen__redirect_to_login__auto_seconds" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>success_screen__redirect_to_login__auto_seconds</code></li><li><strong>Type:</strong> <code>Positive Integer</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>10</code></li></ul><p>If set, this optional property will modify the voting booth behaviour so that
once the ballot is cast and the success screen is shown, after the specified
number of seconds the voter will be automatically redirected to the login page.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="results-config-pipes"></a>Results Config Pipes<a class="hash-link" href="#results-config-pipes" title="Direct link to heading">#</a></h2><p>A results config pipe is used to specify how election results will be calculated.
Results configuration is set of pipes to be applied, together with each pipe
configuration, that will be used during the  calculation of election results. It
is configured at the election level with the
<a href="#election-resultsconfig">resultsConfig setting</a>.</p><p>Each pipe is a list with two items (a pair):</p><ol><li>The pipe import path</li><li>An object with that specific pipe configuration</li></ol><p>For example, a config pair could be:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;agora_results.pipes.sort.sort_non_iterative&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;question_indexes&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>The pipes are interpreted and applied by
<a href="https://github.com/agoravoting/agora-results" target="_blank" rel="noopener noreferrer">agora-results</a>, which in turn is
called by <code>agora-elections</code>. There are multiple available pipes and we will
document in this section most of them, what they do, what you can use them for
and what are their configuration  options.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>There&#x27;s a deployment level configuration setting that specifies a whitelist of
pipes that can be used. This setting&#x27;s path is
<code>config.agora_results.pipes_whitelist</code> in the <code>config.yml</code> ansible
configuration). If you need to use a specific pipe, please ensure you
have whitelisted it in the deployment configuration.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-results-input"></a>Election results input<a class="hash-link" href="#election-results-input" title="Direct link to heading">#</a></h3><p><code>agora-results</code> is called with multiple input data:</p><ul><li>The path to the list of votes to be decrypted.</li><li>The path to the election results configuration with all the pipes to be run.</li><li>The path to the election tally tarball. This tarball is generated by election
authorities and contains among other things a file with the list of questions,
the different options available for each question, the tally mechanism, etc.</li><li>The <code>output directory</code> where the election tally results in different formats
should be written in different files.</li><li>The election id.</li><li>The path to a file containing the whitelisted pipes.</li></ul><p><code>agora-results</code> works by loading the election questions configuration, and
passing it from pipe to pipe as the first argument of each pipe, called
<code>data_list</code>. It also untars the election tally tarball in a temporal directory,
which some pipes might use to output some temporal files too.</p><p>In virtual elections, <code>agora-results</code> not only receives as an input the tarball
of the virtual election, but also the tarball of all the virtual subelections.
In that case, <code>agora-results</code> will also load that election&#x27;s question
configuration in the <code>data_list</code> pipes argument and extract each tally tarball
in a different temporal directory. This is what allows us to do
results consolidation from multiple elections into a single one. In virtual
elections, the first element in <code>data_list</code> is the configuration of the virtual
election and then follows in order the list of virtual subelections as per the
configuration of the election in <code>agora-elections</code>. Within each element in
<code>data_list</code> there&#x27;s an additional key <code>extract_dir</code> that pipes can use to
access the details of the tally tarball of a specific subelection.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-results-output"></a>Election results output<a class="hash-link" href="#election-results-output" title="Direct link to heading">#</a></h3><p>The output of <code>agora-results</code> is usually directly to stdout in a specific
format. This is read by <code>agora-elections</code> and stored in the database as the
electoral results. But it also outputs the same electoral results in different
formats in the election <code>output directory</code>: <code>csv</code>, <code>json</code>, <code>pretty</code> (plain
text) and <code>pdf</code>. It will also save the ballots in JSON format in the
<code>output directory</code>. The <code>output directory</code> is served with <code>agora-elections</code> as
a private directory where results can be accessed when the election results are
not public, and then as a public directory where anyone can access the election
results when the election status is set to <code>publish results</code>. The results in the
<code>output directory</code> will contain with the following files:</p><ul><li><code>&lt;election-id&gt;.results.csv</code></li><li><code>&lt;election-id&gt;.results.json</code></li><li><code>&lt;election-id&gt;.results.pretty</code></li><li><code>&lt;election-id&gt;.results.pdf</code></li><li><code>ballots.csv</code></li></ul><p><code>agora-results</code> works so that the pipes execute sequentially and communicate
with one another mainly through passing information via the mutable <code>data_list</code>
argument and also writting information in the temporal tarball extraction
directories. The final output is the results configuration (which is in
different formats and files). But one important feature is that it might contain
a list of questions different of that one of the election configuration question
list. This is because there are some pipes that can duplicate questions and
consolidate electoral results. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="election-results-can-have-different-questions"></a>Election results can have different questions<a class="hash-link" href="#election-results-can-have-different-questions" title="Direct link to heading">#</a></h3><p>For example, it might make sense that if you have an election with ballot boxes
enabled, you might have only one question in the digital election but that two
different ballot boxes, one ballot box for Mail-in ballots and another for
Onsite paper ballots. You could have election results for this election to
contain four different tallied questions (even if the election had only one
question):</p><ul><li>A tally of the digital votes</li><li>A tally of the mail-in votes (from the Mail-in ballots box)</li><li>A tally of the paper ballots (from the Paper ballots box)</li><li>Consolidated results of all the previous ones together</li></ul><p>To do that, you would also have to change the title of the duplicated questions
so that you can easily see which question corresponds with which tally. There
are pipes to do that.</p><p>What follows is a list of the results configuration pipes in no particular
order:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pipe-do_tallies"></a>Pipe: <code>do_tallies</code><a class="hash-link" href="#pipe-do_tallies" title="Direct link to heading">#</a></h3><ul><li><strong>Pipe path</strong>: <a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/results.py#L24" target="_blank" rel="noopener noreferrer"><code>agora_results.pipes.results.do_tallies</code></a></li><li><strong>Example usage</strong>:</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;agora_results.pipes.results.do_tallies&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;question_indexes&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This pipe is used to run the <code>tally</code> algorithm of the election questions. It
will calculate the results using that <code>tally</code> algorithm and set them in the
<code>results</code> key in the appropiate element inside <code>data_list</code>, among other things.
<code>results</code> is used later by <code>agora-results</code> to output the electoral results in
the appropiate format. It also sets the <code>log</code> key in the appropiate element
inside <code>data_list</code> if the tally algorithm generated any log output.</p><p>This pipe calls uses the <a href="https://github.com/agoravoting/agora-tally" target="_blank" rel="noopener noreferrer">agora-tally</a>
library and calls to <code>agora_tally.tally.do_tally</code> to do the results calculation
of any question to be tallied.</p><p>Candidates marked as withdrawn (you can do that with the
<a href="#pipe-apply_modifications">apply_modifications pipe</a> ) will not be counted
during the tally.</p><p>The following configuration options can be set in the pipe configuration object:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="do_tallies-ignore_invalid_votes"></a><code>do_tallies</code>: <code>ignore_invalid_votes</code><a class="hash-link" href="#do_tallies-ignore_invalid_votes" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>ignore_invalid_votes</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>true</code></li><li><strong>Example:</strong> <code>false</code></li></ul><p>If this option is set to <code>true</code> as it is by default, having invalid votes will
not make the tally fail. If it is set to <code>false</code>, then the call to
<code>agora_tally.tally.do_tally</code> will raise an exception and the <code>agora-results</code>
execution will fail. </p><p>If you are not expecting any invalid votes, setting <code>ignore_invalid_votes</code> to
<code>false</code> might be a way to ensure that you don&#x27;t overlook any invalid vote.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="do_tallies-print_as_csv"></a><code>do_tallies</code>: <code>print_as_csv</code><a class="hash-link" href="#do_tallies-print_as_csv" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>print_as_csv</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p>If this option is set to <code>false</code> as it is by default, it will output to stdout
the ballots as they are read in CSV format. This option is currently unused most
of the time as the <code>agora-results</code> already outputs the ballots in CSV format (
the <code>ballots.csv</code> file). By the way, that file is generated by this pipe and
using the same code as this setting uses.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="do_tallies-tallies_indexes"></a><code>do_tallies</code>: <code>tallies_indexes</code><a class="hash-link" href="#do_tallies-tallies_indexes" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>tallies_indexes</code></li><li><strong>Type:</strong> <code>List&lt;Positive Integer&gt; | None</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>None</code></li><li><strong>Example:</strong> <code>[0,1,2,4,6]</code></li></ul><p>List of indexes in <code>data_list</code> to tally or None if all of them should be
tallied which is the default. Note that this is a filtering list. It will not
error if any index of this list is out of bounds. If this a virtual election
and <code>agora-results</code> received 2 tallies as input, if <code>tallies_indexes</code> is
<code>[0,1,2,3]</code> it will actually only tally the first two.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="do_tallies-question_indexes"></a><code>do_tallies</code>: <code>question_indexes</code><a class="hash-link" href="#do_tallies-question_indexes" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>question_indexes</code></li><li><strong>Type:</strong> <code>List&lt;Positive Integer&gt; | None</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>None</code></li><li><strong>Example:</strong> <code>[0,1,2]</code></li></ul><p>List of question to tally for each of the tallies being tallied or None if all
of them should be tallied which is the default. Two notes:</p><ul><li>This is a filtering list. It will not error if any index of this list is out
of bounds. If there is only a single question but <code>question_indexes</code> is set to
<code>[0,1,2,3,4]</code>, this pipe will just tally the first question without any error.</li><li>This list of question indexes is applied to all elections. To apply different
<code>question_indexes</code> for different elections you would have to have in your pipes
configuration multiple calls to the <code>do_tallies</code> with different settings. See
<a href="#do_tallies-reuse_results">reuse_results</a> for some details on that.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="do_tallies-reuse_results"></a><code>do_tallies</code>: <code>reuse_results</code><a class="hash-link" href="#do_tallies-reuse_results" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>reuse_results</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p>As mentioned before, this pipe heavy lifting is actually done by calling to
<code>agora_tally.tally.do_tally</code>. This function call receives the question
configuration as an object using the <code>question_json</code> parameter. Usually this
configuration is obtained by reading the question json file within the tally
tarball temporal extraction directory. However, if <code>reuse_results</code> is set to
<code>true</code>, then the <code>question_json</code> parameter will be loaded with an object from
the given  element inside <code>data_list</code>:
<code>data_list[&lt;index&gt;][&#x27;results&#x27;][&#x27;questions&#x27;]</code>.</p><p>This can be useful in different circumstances. For example if for some reason
like the one mentioned in <a href="#do_tallies-question_indexes">question_indexes</a>, you
need to execute multiple runs of this pipe within the same <code>agora-results</code>
execution.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="do_tallies-allow_empty_tally"></a><code>do_tallies</code>: <code>allow_empty_tally</code><a class="hash-link" href="#do_tallies-allow_empty_tally" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>allow_empty_tally</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p>If set to <code>true</code> (the default is <code>false</code>), the tally will not fail even if there
is an empty list of ballots being tallied.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="do_tallies-help"></a><code>do_tallies</code>: <code>help</code><a class="hash-link" href="#do_tallies-help" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>help</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>&quot;&quot;</code></li><li><strong>Example:</strong> <code>&quot;Some explanation&quot;</code></li></ul><p>Most if not all of the pipes receive the <code>help</code> argument. This is a way for the
writter of the results configuration pipes to explain anything relating to this
particular pipe + pipe configuration pair, as usually configuration is in JSON
format which does not allow for comments.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="pipe-sort_non_iterative"></a>Pipe: <code>sort_non_iterative</code><a class="hash-link" href="#pipe-sort_non_iterative" title="Direct link to heading">#</a></h3><ul><li><strong>Pipe path</strong>: <a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/sort.py#L35" target="_blank" rel="noopener noreferrer"><code>agora_results.pipes.sort.sort_non_iterative</code></a></li><li><strong>Example usage</strong>:</li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token string" style="color:rgb(195, 232, 141)">&quot;agora_results.pipes.sort.sort_non_iterative&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;question_indexes&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Pipe used to sort the answers in <code>data_list[&lt;index&gt;][&#x27;results&#x27;][&#x27;questions&#x27;][&lt;index2&gt;][&#x27;answers&#x27;]</code>
and assigning a <code>winner_position</code> depending on the question&#x27;s <code>num_winners</code>
setting. This sort is by answer points (the answer&#x27;s <code>total_count</code> property)
and thus is only applied for questions whose <code>tally_type</code> algorithm is
non-iterative, like <code>plurality-at-large</code> or <code>borda</code>. The answer list will be
reordered to ensure that winners always appears before other candidates, and
can also be used for tie resolution using the <code>ties_sorting</code> argument.</p><p>A Single-Transferable Vote (STV) tally method uses an iterative process to
obtain winners so results cannot be sorted by this pipe. This pipe uses a
<code>tally_type</code> whitelist to ensure it is only applied for non-iterative tally
methods, simply skipping any other question with any other tally method.</p><p>This pipe also takes into account during sorting candidate withdrawals and can
apply specific withdrawls at this stage using the <code>withdrawals</code> option, or
apply the <code>withdrawals</code> of candidate options that were recorded as withdrawn by
a previous pipe (like the
<a href="#pipe-apply_modifications">apply_modifications pipe</a>).</p><p>This pipe can be used to apply candidate removals, which means that a candidate
option will not appear in the election results. </p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Different forms of withdrawal</h5></div><div class="admonition-content"><p>Multiple withdrawal methods are available and it&#x27;s your responsability to know
them and use them as required.</p><p>When a candidate is withdrawed for example using the
<a href="#pipe-apply_modifications">apply_modifications pipe</a>, if that withdrawal is
marked as such before executing  the <a href="#pipe-do_tallies">do_tallies pipe</a>, then
the candidate option will not be counted. If after <code>do_tallies</code> you execute
the <code>sort_non_iterative</code> pipe, then it will also ensure it is not marked as a
winner. Note that the ordering of the pipes matter: if you apply the withdrawal
with <code>apply_modifications</code> after having run <code>do_tallies</code> and having
<code>sort_non_iterative</code> as the last applied pipe (So the order of pipes is
<code>[do_tallies, apply_modifications, sort_non_iterative]</code>), the candidate will
not appear as a winner because <code>sort_non_iterative</code> will detect that it&#x27;s
withdrawed, but it will have the same number of points in the election results
as it was not marked as withdrawed when the <code>do_tallies</code> was executed.</p><p>The <a href="#pipe-apply_modifications">apply_modifications pipe</a> can withdraw a
candidate but it can also directly be withdrawn by this <code>sort_non_iterative</code>
pipe, but then the points obtained will not change because the expected previous
call to the <code>do_tallies</code> pipe will not have been marked the candidate as
withdrawed. </p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Candidate Withdrawal vs Removal</h5></div><div class="admonition-content"><p>There are important differences between candidate removal and withdrawal. The
<a href="#pipe-apply_modifications">apply_modifications pipe</a> can be used to mark a
candidate option as either withdrawed or Removed. When a candidate is marked as
removed, the <code>sort_non_iterative</code> pipe will remove the candidate option from
the election results. </p><p>If you don&#x27;t need to sort the results, candidate removal can be also applied
directly with the <a href="#pipe-apply_removals">apply_removals pipe</a>. And of course,
remember that you can do both a withdrawal and removal, so that the candidate
option is both not counted and removed from the election results.</p></div></div><p>The following configuration options can be set in the pipe configuration object:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sort_non_iterative-tallies_indexes"></a><code>sort_non_iterative</code>: <code>tallies_indexes</code><a class="hash-link" href="#sort_non_iterative-tallies_indexes" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>tallies_indexes</code></li><li><strong>Type:</strong> <code>List&lt;Positive Integer&gt; | None</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>[0]</code></li><li><strong>Example:</strong> <code>[0,1,2,4,6]</code></li></ul><p>List of indexes in <code>data_list</code> to which this pipe will be applied or None if
this pipe should be run for all the elections. Note that this is a filtering
list. It will not give any error if any index of this list is out of bounds.
If this a virtual election and <code>agora-results</code> received 2 elections as input,
if <code>tallies_indexes</code> is <code>[0,1,2,3]</code> this pipe will just run for the first two.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sort_non_iterative-question_indexes"></a><code>sort_non_iterative</code>: <code>question_indexes</code><a class="hash-link" href="#sort_non_iterative-question_indexes" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>question_indexes</code></li><li><strong>Type:</strong> <code>List&lt;Positive Integer&gt; | None</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>None</code></li><li><strong>Example:</strong> <code>[0,1,2]</code></li></ul><p>List of question indexes to which this pipe should be applied or None if this
pipe should be run for all the questions of all the elections to which this pipe
is being run, which is the default. Two notes:</p><ul><li>This is a filtering list. It will not error if any index of this list is out
of bounds. If there is only a single question but <code>question_indexes</code> is set to
<code>[0,1,2,3,4]</code>, this pipe will just run for the first question without any error.</li><li>This list of question indexes is applied to all elections. To apply different
<code>question_indexes</code> for different elections you would have to include in your
pipes configuration multiple calls to this pipe with different settings.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sort_non_iterative-withdrawals"></a><code>sort_non_iterative</code>: <code>withdrawals</code><a class="hash-link" href="#sort_non_iterative-withdrawals" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>withdrawals</code></li><li><strong>Type:</strong> <code>List&lt;AnswerItems&gt;</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>None</code></li><li><strong>Example:</strong> </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;answer_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;answer_text&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;John Doe for President&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;question_index&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>List of Answers to withdraw. </p><p>Note that other pipes might indicate also answers that need to be withdrawn,
with the same format as this list, in the
<code>data_list[&lt;index&gt;][&#x27;withdrawals&#x27;]</code>. Both lists are joined for this purpose.</p><p>Each <code>AnswerItem</code> is an object that requires the following properties:</p><ul><li><code>question_index</code>: The question index.</li><li><code>answer_id</code>: The answer id.</li><li><code>answer_text</code>: The answer text, for sanity checks.</li></ul><p>Withdrawed candidates will appear in the election results, but they will never
appear as a winner. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sort_non_iterative-ties_sorting"></a><code>sort_non_iterative</code>: <code>ties_sorting</code><a class="hash-link" href="#sort_non_iterative-ties_sorting" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>ties_sorting</code></li><li><strong>Type:</strong> <code>List&lt;TieAnswerItems&gt;</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>[]</code></li><li><strong>Example:</strong> </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;answer_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;answer_text&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;John Doe for President&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;question_index&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;tie_sort&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;answer_id&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;answer_text&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Juanito for President&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;question_index&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;tie_sort&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>When two candidate options are in a tie, you might need to apply an external
procedure to resolve this tie. Once this procedure has been applied, then you
can use this argument to specify how the tie should be resolved.</p><p>This argument receives a list of <code>TieAnswerItems</code>. </p><p>Each <code>TieAnswerItems</code> is an object that requires the following properties:</p><ul><li><code>question_index</code>: The question index.</li><li><code>answer_id</code>: The answer id.</li><li><code>answer_text</code>: The answer text, for sanity checks.</li><li><code>tie_sort</code>: Integer number used for resolving the tie during sorting. If there
is a tie between two candidates, the candidate with the lowest <code>tie_sort</code> number
wins.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="sort_non_iterative-help"></a><code>sort_non_iterative</code>: <code>help</code><a class="hash-link" href="#sort_non_iterative-help" title="Direct link to heading">#</a></h4><ul><li><strong>Property name</strong>: <code>help</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>&quot;&quot;</code></li><li><strong>Example:</strong> <code>&quot;Some explanation&quot;</code></li></ul><p>Most if not all of the pipes receive the <code>help</code> argument. This is a way for the
writter of the results configuration pipes to explain anything relating to this
particular pipe + pipe configuration pair, as usually configuration is in JSON
format which does not allow for comments.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="other-pipes"></a>Other pipes<a class="hash-link" href="#other-pipes" title="Direct link to heading">#</a></h3><p>There are many other pipes but we have yet to document them. The easiest way
right now to understand how they work is to just look at the code:</p><ul><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/duplicate_questions.py#L24" target="_blank" rel="noopener noreferrer">agora_results.pipes.duplicate_questions.duplicate_questions</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/modifications.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.modifications.apply_modifications</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/multipart.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.multipart.make_multipart</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/multipart.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.multipart.election_max_size_corrections</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/multipart.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.multipart.question_totals_with_corrections</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/multipart.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.multipart.reduce_answers_with_corrections</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/multipart.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.multipart.multipart_tally_plaintexts_append_joiner</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/multipart.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.multipart.data_list_reverse</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/multipart.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.multipart.multipart_tally_plaintexts_joiner</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/multipart.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.multipart.append_ballots</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/parity.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.parity.proportion_rounded</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/parity.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.parity.parity_zip_non_iterative</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/parity.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.parity.reorder_winners</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/parity.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.parity.podemos_parity_loreg_zip_non_iterative</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/parity.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.parity.podemos_parity2_loreg_zip_non_iterative</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/podemos.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.podemos.podemos_proportion_rounded_and_duplicates</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/desborda4.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.desborda4.podemos_desborda4</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/desborda3.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.desborda3.podemos_desborda3</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/desborda2.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.desborda2.podemos_desborda2</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/desborda.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.desborda.podemos_desborda</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/pretty_print.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.pretty_print.pretty_print_stv_winners</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/pretty_print.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.pretty_print.pretty_print_not_iterative</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/results.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.results.to_files</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/results.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.results.apply_removals</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/stv_tiebreak.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.stv_tiebreak.stv_first_round_tiebreak</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/pdf.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.pdf.configure_pdf</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/withdraw_candidates.py" target="_blank" rel="noopener noreferrer">agora_results.pipes.withdraw_candidates.withdraw_candidates</a></li><li><a href="https://github.com/agoravoting/agora-results/blob/master/agora_results/pipes/ballot_boxes.py#L278" target="_blank" rel="noopener noreferrer">agora_results.pipes.ballot_boxes.count_tally_sheets</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="census-object"></a>Census object<a class="hash-link" href="#census-object" title="Direct link to heading">#</a></h2><p>This JSON object type describes census configuration related to the election.
It is used by the <a href="#election-census">census property</a> and can have the
following properties:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="census-voters"></a>Census: <code>voters</code><a class="hash-link" href="#census-voters" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>voters</code></li><li><strong>Type:</strong> List&lt;<a href="#voter-object">Voter</a>&gt;</li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;metadata&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;email&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;john@example.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;John&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;metadata&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;email&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;marta@example.com&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Marta&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>It&#x27;s a list of voters to be imported. Each voter is an object with their
properties set within the <code>metadata</code> field. Which voter properties are valid
depends on the <a href="#census-auth_method">authentication method</a> used and the
<a href="#census-extra_fields">extra fields</a> defined.</p><p>If the census size if big, it&#x27;s not advisable to import it using this field
because it&#x27;s currently not very fast. In that case it&#x27;s best to use the
<code>authapi</code>&#x27;s <code>bulk_insert_voters</code> management command through the command line
which can easily load 4,000 voters/second instead of maybe 6-10 voters/second
here.</p><p>You can also modify the census later when the election is created. If you use
the admin user interface, it will use the same backend as it used during
election creation here and thus the same speed recommendations apply.</p><p>Note that when loading voters using this API, voters are uniquely identified by
a different field depending on the <a href="#census-auth_method">authentication method</a>,
for example the <code>email</code> field if using the <code>email-otp</code> authentication method.
If you re-upload a census, the voters that already exist (matching their unique
id) won&#x27;t be modified. </p><p>However if you use <code>authapi</code>&#x27;s <code>bulk_insert_voters</code> management command, this
kind of detection won&#x27;t be applied. If you need to update the census, it&#x27;s best
to first remove all the census with the <code>bulk_delete_voters</code> command before
executing <code>bulk_insert_voters</code>.</p><p>If the election is a parent election, you usually set the census within the
parent election and there assign to which children elections can that specific
voter vote. To do so, set the <code>children_event_id_list</code> property within the
<code>metadata</code> field of each voter. This list is simply a list of children election
ids in which the voter can vote.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="census-auth_method"></a>Census: <code>auth_method</code><a class="hash-link" href="#census-auth_method" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>auth_method</code></li><li><strong>Type:</strong> <code>Short String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>sms-otp</code></li></ul><p>This property specifies which is the main authentication method related to the
election. The list of currently available authentication methods is:</p><ul><li><p><strong>email</strong>: The user will be authenticate through a code sent via email.
The email is sent by the adminstrators to voters using the <code>Send authentication</code>
option in the Election Dashboard or the <code>Send auth codes</code> to specific voters
option in the election <code>Census Data</code> sidebar option. If used, an
<a href="#census-extra_fields">extra_field</a> of type <code>email</code> and named <code>email</code> is
required.</p></li><li><p><strong>email-otp</strong>: The user will authenticate through an OTP (One Time Password)
sent via email. This OTP is not sent to voters by administrators, but instead
is requested by voters during the authentication process each time they execute
it. If used, an <a href="#census-extra_fields">extra_field</a> of type <code>email</code> and named
<code>email</code> is  required.</p></li><li><p><strong>sms</strong>: The user will be authenticate through a code sent via SMS.
The SMS is sent by the adminstrators to voters using the <code>Send authentication</code>
option in the Election Dashboard or the <code>Send auth codes</code> to specific voters
option in the election <code>Census Data</code> sidebar option. If used, an
<a href="#census-extra_fields">extra_field</a> of type <code>tlf</code> and named <code>tlf</code> is
required.</p></li><li><p><strong>sms-otp</strong>: The user will authenticate through an OTP (One Time Password)
sent via SMS. This OTP is not sent to voters by administrators, but instead is
requested by voters during the authentication process each time they execute it.
If used, an <a href="#census-extra_fields">extra_field</a> of type <code>tlf</code> and named
<code>tlf</code> is required.</p></li><li><p><strong>openid-connect</strong>: The authentication will happen through a third-party
openid provider. This provider shall be configured in the <code>config.yml</code>
<a href="/admin-manual/docs/deployment/guide">ansible deployment configuration</a>. If used, an
<a href="#census-extra_fields">extra_field</a> of type <code>sub</code> and named <code>text</code> is
required.</p></li><li><p><strong>user-and-password</strong>: The voters will authenticate simply by the username
and password. You can assign the <code>password</code> field of each voter appropiately.
This is usually not recommended, as by default voters are assigned a random
username so it&#x27;s difficult for them to know their username. The only usecase for
this is currently for the administrative <code>AuthEvent</code> (usually with id <code>0</code>) used
to authenticate in the administrative interface, and whose list of users is
directly set within the <code>config.yml</code>
<a href="/admin-manual/docs/deployment/guide">ansible deployment configuration</a> using the
<code>config.authapi.upsert_file</code> and the superadmin user
(<code>config.authapi.admin_user</code>). If used, an <a href="#census-extra_fields">extra_field</a>
of type <code>password</code> and named <code>password</code> is required.</p></li><li><p><strong>email-and-password</strong>: The voters will authenticate simply by the email
and password. You can assign the <code>password</code> field of each voter appropiately.
If used, an <a href="#census-extra_fields">extra_field</a> of type <code>password</code> and named
<code>password</code> is required.</p></li><li><p><strong>dnie</strong>: The voters will authenticate using a TLS client authentication
certificate. This authentication method requires some updates to be usable in
the current version of the software and thus is currently not usable, but it
does not require much development work to make it work.</p></li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Alternative authentication methods</h5></div><div class="admonition-content"><p>If the authentication method is <code>email</code> but there&#x27;s defined also an <code>tlf</code>
<a href="#census-extra_fields">extra field</a>, then for those elements in census where
both fields are defined, the voter will receive the Authentication Code through
both SMS and email authentication, and the voter will be able to authenticate
through the link and code sent by either of those.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="census-census"></a>Census: <code>census</code><a class="hash-link" href="#census-census" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>census</code></li><li><strong>Type:</strong> <code>Short String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;close&quot;</code></li></ul><p>Indicates if the census is either <code>&quot;open&quot;</code> or <code>&quot;close&quot;</code>. If census is <code>&quot;open&quot;</code>,
it means it is in open registration mode and voters can register themselves,
fill the <a href="#census-extra_fields">extra_fields</a> required on registration to be
able to vote later either at that moment if the election is open or later on.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="census-extra_fields"></a>Census: <code>extra_fields</code><a class="hash-link" href="#census-extra_fields" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>extra_fields</code></li><li><strong>Type:</strong> List&lt;<a href="#extra-field-object">Extra Field</a>&gt;</li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> </li></ul><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-json codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;email&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;email&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;required&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;min&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;max&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">200</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;required_on_authentication&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>Defines authentication fields that the voters might fill or with some relation
to voters. There are some <code>extra_fields</code> required depending on the election&#x27;s
<a href="#election-auth_method">auth_method</a>. For example, if the authentication method
is <code>sms-otp</code>, the extra field named <code>tlf</code> and of type <code>tlf</code> is required. </p><p>See <a href="#extra-field-object">Extra Field</a> for more details about extra fields. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-object"></a>Extra Field Object<a class="hash-link" href="#extra-field-object" title="Direct link to heading">#</a></h2><p>Defines an authentication field that the voters might fill or with some relation
to voters. Some extra fields are required depending on the election&#x27;s
<a href="#election-auth_method">auth_method</a>. For example, if the authentication method
is <code>sms-otp</code>, the extra field named <code>tlf</code> and of type <code>tlf</code> is required. </p><p>It is used by the Census&#x27; <a href="#census-extra_fields">extra_fields property</a> and can
have the following properties:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-name"></a>Extra Field: <code>name</code><a class="hash-link" href="#extra-field-name" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>name</code></li><li><strong>Type:</strong> <code>Short String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;email&quot;</code></li></ul><p>The name property identifies the extra field. For most
<a href="#extra-field-type">extra field types</a> the name set here is shown to voters
as the field name in the user interface during the authentication process. It&#x27;s
also used in API calls as the key to receive the authentication data or to store
the census data of a specific user.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-type"></a>Extra Field: <code>type</code><a class="hash-link" href="#extra-field-type" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>type</code></li><li><strong>Type:</strong> <code>Short String</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;text&quot;</code></li></ul><p>Defines the extra field type, which changes in appeareance and behaviour. There
are the following available extra field types that you can use:</p><ul><li><code>&quot;text&quot;</code></li><li><code>&quot;int&quot;</code></li><li><code>&quot;bool&quot;</code></li><li><code>&quot;email&quot;</code></li><li><code>&quot;tlf&quot;</code></li><li><code>&quot;captcha&quot;</code></li><li><code>&quot;textarea&quot;</code></li><li><code>&quot;dni&quot;</code></li><li><code>&quot;dict&quot;</code></li><li><code>&quot;date&quot;</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-required_on_authentication"></a>Extra Field: <code>required_on_authentication</code><a class="hash-link" href="#extra-field-required_on_authentication" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>required_on_authentication</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> Yes</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>false</code></li></ul><p>Defines if this field is required during authentication. If <code>true</code> it means
that during the authentication process this field needs to be provided by the
voter.  </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-required"></a>Extra Field: <code>required</code><a class="hash-link" href="#extra-field-required" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>required</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>false</code></li></ul><p>Defines if this field is always required. If <code>true</code> it means that during any
process in which the voter needs to fill the extra fields, either during
registration or authentication, this field needs to be provided by the voter. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-required_when_registered"></a>Extra Field: <code>required_when_registered</code><a class="hash-link" href="#extra-field-required_when_registered" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>required_when_registered</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>false</code></li></ul><p>If set to <code>true</code> this extra field will not appear to voters during
<a href="#census-census">open registration</a>. A better name for it might have been
<code>hidden_during_registration</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-private"></a>Extra Field: <code>private</code><a class="hash-link" href="#extra-field-private" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>private</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p>Defines if this field is private. If set to <code>true</code>, then the field will not
appear to voters at any time but it will be appear in the census. This is useful
if there&#x27;s any field that you want to appear in the census to be able to search
for it or review that kind of user data in the administrative interface, but
should not be used for anything else.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-unique"></a>Extra Field: <code>unique</code><a class="hash-link" href="#extra-field-unique" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>unique</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p>If set to <code>true</code> (the default is <code>false</code>), vote registration will fail if the
voter enters a value to this field that is repeated by any other element in the
census. Note that this field uniquness is not verified during census import by
administrators. It only makes sense to set <code>unique</code> to <code>true</code> when setting the
election to have <code>open</code> <a href="#census-census">voter registration</a>, because otherwise
it will have no effect as there won&#x27;t be any open voter registration process.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-match_census_on_registration"></a>Extra Field: <code>match_census_on_registration</code><a class="hash-link" href="#extra-field-match_census_on_registration" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>match_census_on_registration</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p>For <code>open</code> <a href="#census-census">voter registration</a>, any previous element in the
census would be matched using this field. This useful to be used together with
<a href="#extra-field-fill_if_empty_on_registration">fill_if_empty_on_registration</a>,
so that if you have a pre-registration census with only some fields already
filled in, you could fill the missing fields with
<code>fill_if_empty_on_registration</code> if  you first identify the element in census
with <code>match_census_on_registration</code> set to <code>true</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-fill_if_empty_on_registration"></a>Extra Field: <code>fill_if_empty_on_registration</code><a class="hash-link" href="#extra-field-fill_if_empty_on_registration" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>fill_if_empty_on_registration</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p>It is used for pre-registration. If the pre-registered user on the census has
this field empty, then when the user will be able to set its value upon
registration.</p><p>This useful to be used together with
<a href="#extra-field-match_census_on_registration">match_census_on_registration</a>, so
that if you have a pre-registration census with only some fields already filled
in, you could fill the missing fields with <code>fill_if_empty_on_registration</code> if
you first identify the element in census with <code>match_census_on_registration</code>
set to <code>true</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-userid_field"></a>Extra Field: <code>userid_field</code><a class="hash-link" href="#extra-field-userid_field" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>userid_field</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p><code>userid_field</code> is used to generate the username, usedto generate the hmac
authentication token. If any field on the authevent is marked with
<code>userid_field</code> as <code>true</code>, the username won&#x27;t be generated randomly as it is done
usually, but instead it will be generated by:</p><ol><li>Concatenating all the data from the <code>userid_field</code>&#x27;s (in order of
appeareance of the fields in ae.extra_fields).</li><li>Adding the shared_secret (<code>field1:field2:field3...:shared_secret</code>)
separated with the colon character: <code>:</code>.</li><li>The username will be the sha256 hash of the above
Note that if a field is marked as userid_field, it should always have a valid
convertable-to-string value.</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-help"></a>Extra Field: <code>help</code><a class="hash-link" href="#extra-field-help" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>help</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;Example: John Doe&quot;</code></li></ul><p>Help text that will appear below the input in the voter authentication or
registration form.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-regex"></a>Extra Field: <code>regex</code><a class="hash-link" href="#extra-field-regex" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>regex</code></li><li><strong>Type:</strong> <code>String</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>&quot;/\d{9}[a-z]/&quot;</code></li></ul><p>Regular expression that will be checked against user input when sending the
authentication or registration form. This property only makes sense for extra
fields whose input is a string like <code>textarea</code>, <code>email</code> or <code>text</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-min"></a>Extra Field: <code>min</code><a class="hash-link" href="#extra-field-min" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>min</code></li><li><strong>Type:</strong> <code>Integer</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>1</code></li></ul><p>This property can mean two different things:</p><ul><li>For extra fields whose value is a string, it&#x27;s the minimum allowed length of
such a string.</li><li>For extra fields of <code>int</code> <a href="#extra-field-type">type</a>, it is the minimum
allowed value.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-max"></a>Extra Field: <code>max</code><a class="hash-link" href="#extra-field-max" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>max</code></li><li><strong>Type:</strong> <code>Integer</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> -</li><li><strong>Example:</strong> <code>55</code></li></ul><p>This property can mean two different things:</p><ul><li>For extra fields whose value is a string, it&#x27;s the maximum allowed length of
such a string.</li><li>For extra fields of <code>int</code> <a href="#extra-field-type">type</a>, it is the maximum
allowed value.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="extra-field-autofill"></a>Extra Field: <code>autofill</code><a class="hash-link" href="#extra-field-autofill" title="Direct link to heading">#</a></h3><ul><li><strong>Property name</strong>: <code>autofill</code></li><li><strong>Type:</strong> <code>Boolean</code></li><li><strong>Required:</strong> No</li><li><strong>Default:</strong> <code>false</code></li><li><strong>Example:</strong> <code>true</code></li></ul><p>When user is is activated by calling to <code>authapi</code>&#x27;s
<code>/api/auth-event/%d/census/activate/</code>, this field will be copied from the admin
user to the activated user. This is useful for example if an admin user has an
extra field specifying the precint assigned to it and we would like to set that
info in a <a href="#extra-field-private">private field</a> of the activated user too.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/agoravoting/admin-manual/edit/master/docs/advanced-elections/election-creation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/admin-manual/docs/advanced-elections/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/admin-manual/docs/contribute/guide"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Contribution Guide </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#election-json-settings" class="table-of-contents__link">Election JSON settings</a></li><li><a href="#creating-elections" class="table-of-contents__link">Creating elections</a></li><li><a href="#modifying-elections" class="table-of-contents__link">Modifying elections</a></li><li><a href="#election-object" class="table-of-contents__link">Election object</a><ul><li><a href="#election-id" class="table-of-contents__link">Election: <code>id</code></a></li><li><a href="#election-title" class="table-of-contents__link">Election: <code>title</code></a></li><li><a href="#election-description" class="table-of-contents__link">Election: <code>description</code></a></li><li><a href="#election-start_date" class="table-of-contents__link">Election: <code>start_date</code></a></li><li><a href="#election-end_date" class="table-of-contents__link">Election: <code>end_date</code></a></li><li><a href="#election-director" class="table-of-contents__link">Election: <code>director</code></a></li><li><a href="#election-authorities" class="table-of-contents__link">Election: <code>authorities</code></a></li><li><a href="#election-presentation" class="table-of-contents__link">Election: <code>presentation</code></a></li><li><a href="#election-layout" class="table-of-contents__link">Election: <code>layout</code></a></li><li><a href="#election-num_successful_logins_allowed" class="table-of-contents__link">Election: <code>num_successful_logins_allowed</code></a></li><li><a href="#election-resultsconfig" class="table-of-contents__link">Election: <code>resultsConfig</code></a></li><li><a href="#election-has_ballot_boxes" class="table-of-contents__link">Election: <code>has_ballot_boxes</code></a></li><li><a href="#election-ballot_boxes" class="table-of-contents__link">Election: <code>ballot_boxes</code></a></li><li><a href="#election-census" class="table-of-contents__link">Election: <code>census</code></a></li><li><a href="#election-hide_default_login_lookup_field" class="table-of-contents__link">Election: <code>hide_default_login_lookup_field</code></a></li></ul></li><li><a href="#election-presentation-object" class="table-of-contents__link">Election Presentation Object</a><ul><li><a href="#election-presentation-theme" class="table-of-contents__link">Election Presentation: <code>theme</code></a></li><li><a href="#election-presentation-share_text" class="table-of-contents__link">Election Presentation: <code>share_text</code></a></li><li><a href="#election-presentation-urls" class="table-of-contents__link">Election Presentation: <code>urls</code></a></li><li><a href="#election-presentation-theme_css" class="table-of-contents__link">Election Presentation: <code>theme_css</code></a></li><li><a href="#election-presentation-extra_options" class="table-of-contents__link">Election Presentation: <code>extra_options</code></a></li></ul></li><li><a href="#share-text-object" class="table-of-contents__link">Share Text Object</a><ul><li><a href="#share-text-network" class="table-of-contents__link">Share Text: <code>network</code></a></li><li><a href="#share-text-button_text" class="table-of-contents__link">Share Text: <code>button_text</code></a></li><li><a href="#share-text-social_message" class="table-of-contents__link">Share Text: <code>social_message</code></a></li></ul></li><li><a href="#election-presentation-extra-options-object" class="table-of-contents__link">Election Presentation Extra Options Object</a><ul><li><a href="#election-presentation-options-start_screen__skip" class="table-of-contents__link">Election Presentation Options: <code>start_screen__skip</code></a></li><li><a href="#election-presentation-options-public_title" class="table-of-contents__link">Election Presentation Options: <code>public_title</code></a></li><li><a href="#election-presentation-options-success_screen__hide_ballot_tracker" class="table-of-contents__link">Election Presentation Options: <code>success_screen__hide_ballot_tracker</code></a></li><li><a href="#election-presentation-options-success_screen__hide_qr_code" class="table-of-contents__link">Election Presentation Options: <code>success_screen__hide_qr_code</code></a></li><li><a href="#election-presentation-options-success_screen__hide_download_ballot_ticket" class="table-of-contents__link">Election Presentation Options: <code>success_screen__hide_download_ballot_ticket</code></a></li><li><a href="#election-presentation-options-success_screen__redirect_to_login" class="table-of-contents__link">Election Presentation Options: <code>success_screen__redirect_to_login</code></a></li><li><a href="#election-presentation-options-success_screen__redirect_to_login__text" class="table-of-contents__link">Election Presentation Options: <code>success_screen__redirect_to_login__text</code></a></li><li><a href="#election-presentation-options-disable_voting_booth_audit_ballot" class="table-of-contents__link">Election Presentation Options: <code>disable_voting_booth_audit_ballot</code></a></li><li><a href="#election-presentation-options-success_screen__redirect_to_login__auto_seconds" class="table-of-contents__link">Election Presentation Options: <code>success_screen__redirect_to_login__auto_seconds</code></a></li></ul></li><li><a href="#results-config-pipes" class="table-of-contents__link">Results Config Pipes</a><ul><li><a href="#election-results-input" class="table-of-contents__link">Election results input</a></li><li><a href="#election-results-output" class="table-of-contents__link">Election results output</a></li><li><a href="#election-results-can-have-different-questions" class="table-of-contents__link">Election results can have different questions</a></li><li><a href="#pipe-do_tallies" class="table-of-contents__link">Pipe: <code>do_tallies</code></a></li><li><a href="#pipe-sort_non_iterative" class="table-of-contents__link">Pipe: <code>sort_non_iterative</code></a></li><li><a href="#other-pipes" class="table-of-contents__link">Other pipes</a></li></ul></li><li><a href="#census-object" class="table-of-contents__link">Census object</a><ul><li><a href="#census-voters" class="table-of-contents__link">Census: <code>voters</code></a></li><li><a href="#census-auth_method" class="table-of-contents__link">Census: <code>auth_method</code></a></li><li><a href="#census-census" class="table-of-contents__link">Census: <code>census</code></a></li><li><a href="#census-extra_fields" class="table-of-contents__link">Census: <code>extra_fields</code></a></li></ul></li><li><a href="#extra-field-object" class="table-of-contents__link">Extra Field Object</a><ul><li><a href="#extra-field-name" class="table-of-contents__link">Extra Field: <code>name</code></a></li><li><a href="#extra-field-type" class="table-of-contents__link">Extra Field: <code>type</code></a></li><li><a href="#extra-field-required_on_authentication" class="table-of-contents__link">Extra Field: <code>required_on_authentication</code></a></li><li><a href="#extra-field-required" class="table-of-contents__link">Extra Field: <code>required</code></a></li><li><a href="#extra-field-required_when_registered" class="table-of-contents__link">Extra Field: <code>required_when_registered</code></a></li><li><a href="#extra-field-private" class="table-of-contents__link">Extra Field: <code>private</code></a></li><li><a href="#extra-field-unique" class="table-of-contents__link">Extra Field: <code>unique</code></a></li><li><a href="#extra-field-match_census_on_registration" class="table-of-contents__link">Extra Field: <code>match_census_on_registration</code></a></li><li><a href="#extra-field-fill_if_empty_on_registration" class="table-of-contents__link">Extra Field: <code>fill_if_empty_on_registration</code></a></li><li><a href="#extra-field-userid_field" class="table-of-contents__link">Extra Field: <code>userid_field</code></a></li><li><a href="#extra-field-help" class="table-of-contents__link">Extra Field: <code>help</code></a></li><li><a href="#extra-field-regex" class="table-of-contents__link">Extra Field: <code>regex</code></a></li><li><a href="#extra-field-min" class="table-of-contents__link">Extra Field: <code>min</code></a></li><li><a href="#extra-field-max" class="table-of-contents__link">Extra Field: <code>max</code></a></li><li><a href="#extra-field-autofill" class="table-of-contents__link">Extra Field: <code>autofill</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/admin-manual/docs/deployment/guide">Deployment</a></li><li class="footer__item"><a class="footer__link-item" href="/admin-manual/docs/translation/guide">Translation</a></li><li class="footer__item"><a class="footer__link-item" href="/admin-manual/docs/testing/bulk">Election Testing</a></li><li class="footer__item"><a class="footer__link-item" href="/admin-manual/docs/advanced-elections/introduction">Advanced Elections</a></li><li class="footer__item"><a class="footer__link-item" href="/admin-manual/docs/contribute/guide">Contribute</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/agoravoting" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://discord.gg/BSqF8Cbr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/nvotes_com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://nvotes.com/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/agoravoting/admin-manual" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright  2021 nVotes</div></div></div></footer></div>
<script src="/admin-manual/styles.19eaad5a.js"></script>
<script src="/admin-manual/runtime~main.8ad37782.js"></script>
<script src="/admin-manual/main.b208c5ab.js"></script>
<script src="/admin-manual/1.ddbdf967.js"></script>
<script src="/admin-manual/2.959747c6.js"></script>
<script src="/admin-manual/15.ee9df9ac.js"></script>
<script src="/admin-manual/16.1e009402.js"></script>
<script src="/admin-manual/935f2afb.5878af9d.js"></script>
<script src="/admin-manual/17896441.aab8830d.js"></script>
<script src="/admin-manual/9b1b5505.72648ce2.js"></script>
</body>
</html>